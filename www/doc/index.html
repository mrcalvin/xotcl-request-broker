<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head> <link rev="alternate" media="print" xhref="manual/manual.pdf" mce_href="manual/manual.pdf" /> <link rel="stylesheet" type="text/css" href="sample.css" media="all" />           <title>Request brokerage and remoting for OpenACS</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<!-- html,xhtml,png,fn-in,NoFonts,fonts,sections+,imgdir:manual/src/img/ --> 
<meta name="src" content="manual.tex" /> 
<meta name="date" content="2007-08-30 18:51:00" /> 
<link rel="stylesheet" type="text/css" href="manual.css" /> 
</head><body><div id="container">Note: This is an automatically generated
XHTML document, provided for convenience. The authoritative version is the <a 
href="manual.pdf" id="PDF" >pdf</a>&#x00A0;version.
<div class="maketitle">
                                                                       

                                                                       
                                                                       

                                                                       

<h2 class="titleHead">Request brokerage and remoting for
OpenACS</h2>
 <div class="author" >Stefan Sobernig</div>
<br />
<div class="date" >July 2007</div>
  </div>
  <h3 class="likesectionHead"><a 
href="#x1-1000" id="x1-1000">Contents</a></h3>
 
<div class="tableofcontents toc">
<br>  <span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">Introduction</a></span>
<br>  &#x00A0;<span class="subsectionToc" >1.1 <a 
href="#x1-30001.1" id="QQ2-1-3">Sources of information</a></span>
<br>  &#x00A0;<span class="subsectionToc" >1.2 <a 
href="#x1-40001.2" id="QQ2-1-4">Copyright terms</a></span>
<br>  <span class="sectionToc" >2 <a 
href="#x1-50002" id="QQ2-1-5">Installation &amp; configuration guideline</a></span>
<br>  &#x00A0;<span class="subsectionToc" >2.1 <a 
href="#x1-60002.1" id="QQ2-1-6">Prerequisites</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.1.1 <a 
href="#x1-70002.1.1" id="QQ2-1-7">Dependencies</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.1.2 <a 
href="#x1-80002.1.2" id="QQ2-1-8">Patches</a></span>
<br>  &#x00A0;<span class="subsectionToc" >2.2 <a 
href="#x1-90002.2" id="QQ2-1-9">The XOTcl Request Broker (xorb)</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.2.1 <a 
href="#x1-100002.2.1" id="QQ2-1-10">Installation</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.2.2 <a 
href="#x1-110002.2.2" id="QQ2-1-11">Configuration</a></span>
<br>  &#x00A0;<span class="subsectionToc" >2.3 <a 
href="#x1-120002.3" id="QQ2-1-12">The SOAP protocol plug-in (xosoap)</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.1 <a 
href="#x1-130002.3.1" id="QQ2-1-13">Installation</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.2 <a 
href="#x1-140002.3.2" id="QQ2-1-14">Configuration</a></span>
<br>  <span class="sectionToc" >3 <a 
href="#x1-150003" id="QQ2-1-15">A quick start guide</a></span>
<br>  &#x00A0;<span class="subsectionToc" >3.1 <a 
href="#x1-160003.1" id="QQ2-1-16">xorb</a></span>
<br>  &#x00A0;<span class="subsectionToc" >3.2 <a 
href="#x1-170003.2" id="QQ2-1-17">xosoap</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >3.2.1 <a 
href="#x1-180003.2.1" id="QQ2-1-18">How to glue to ...?</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >3.2.2 <a 
href="#x1-190003.2.2" id="QQ2-1-27">Getting glued to ...?</a></span>
<br>  <span class="sectionToc" >4 <a 
href="#x1-200004" id="QQ2-1-35">Advanced usage</a></span>
<br>  &#x00A0;<span class="subsectionToc" >4.1 <a 
href="#x1-210004.1" id="QQ2-1-36">How to test your services</a></span>
                                                                       

                                                                       
<br>  &#x00A0;<span class="subsectionToc" >4.2 <a 
href="#x1-220004.2" id="QQ2-1-37">Public interface</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >4.2.1 <a 
href="#x1-230004.2.1" id="QQ2-1-38">What is the structure of xorb&#8217;s and xosoap&#8217;s public interfaces?</a></span>
<br>  &#x00A0;<span class="subsectionToc" >4.3 <a 
href="#x1-240004.3" id="QQ2-1-44">Data type infrastructure</a></span>
<br>  &#x00A0;<span class="subsectionToc" >4.4 <a 
href="#x1-250004.4" id="QQ2-1-47">Proxy templates</a></span>
<br>  &#x00A0;<span class="subsectionToc" >4.5 <a 
href="#x1-260004.5" id="QQ2-1-53">Glue objects</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >4.5.1 <a 
href="#x1-270004.5.1" id="QQ2-1-54">What is the idea of glue objects?</a></span>
<br>  &#x00A0;&#x00A0;<span class="subsubsectionToc" >4.5.2 <a 
href="#x1-280004.5.2" id="QQ2-1-55">How to use scoping on glue objects for re-use?</a></span>
<br>  <span class="sectionToc" >5 <a 
href="#x1-290005" id="QQ2-1-62">Internals</a></span>
<br>  &#x00A0;<span class="subsectionToc" >5.1 <a 
href="#x1-300005.1" id="QQ2-1-63">What are "service contracts"?</a></span>
<br>  <span class="sectionToc" >6 <a 
href="#x1-310006" id="QQ2-1-69">Feature sets</a></span>
<br>  &#x00A0;<span class="subsectionToc" >6.1 <a 
href="#x1-320006.1" id="QQ2-1-70">xorb</a></span>
<br>  &#x00A0;<span class="subsectionToc" >6.2 <a 
href="#x1-330006.2" id="QQ2-1-71">xosoap</a></span>
<br>  <span class="sectionToc" >7 <a 
href="#x1-340007" id="QQ2-1-72">Roadmap</a></span>
<br>  &#x00A0;<span class="subsectionToc" >7.1 <a 
href="#x1-350007.1" id="QQ2-1-73">xorb</a></span>
<br>  &#x00A0;<span class="subsectionToc" >7.2 <a 
href="#x1-360007.2" id="QQ2-1-74">xosoap</a></span>
<br>  <span class="sectionToc" >8 <a 
href="#x1-370008" id="QQ2-1-75">Appendix</a></span>
<br>  &#x00A0;<span class="subsectionToc" >8.1 <a 
href="#x1-380008.1" id="QQ2-1-76">Examples - xosoap</a></span>
<!--l. 22--><p class="noindent" ></div>
</p><!--l. 23--><p class="noindent" >
</p>
  <h3 class="sectionHead"><span class="titlemark">1  </span> <a 
href="#QQ2-1-2" id="x1-20001">Introduction</a></h3>
<!--l. 24--><p class="noindent" ><span class="textbf">xorb</span>, the X(OTcl) R(equest) B(roker), is an infrastructure package for the web development toolkit
OpenACS and OpenACS-based frameworks that provides for generic means of call abstraction.
Call abstraction, hereby, refers to both distributed and non-distributed scenarios. In a
non-distributed scenario, xorb is an object-oriented refinement of the well established
OpenACS facilities also referred to as "service contracts&#8217;. In a distributed scenario, xorb
provides a remoting infrastructure for OpenACS. xorb was designed in a protocol-agnostic
manner, i.e. our primary intention is to provide support for a variety of remoting protocols.
Protocol support is, therefore, realised in terms of protocol plug-ins for xorb. So far, we
have realised a feature-rich SOAP protocol plug-in referred to as <span class="textbf">xosoap</span>. Both, xorb
and its protocol plug-ins are realised in <a href="http://media.wu-wien.ac.at/">XOTcl</a>, a powerful OO extension to standard
Tcl.
</p><!--l. 34--><p class="indent" >  This guide, in its current shape, aims at providing the fundamentals of using call abstractions in a
distributed scenario. We restrict ourselves, for the moment, to the remoting capabilities and
therefore introduce the reader to the SOAP protocol plug-in, i.e. xotcl-soap (xosoap). The present
document and resource collection will be steadily extended to cover more general aspects of
request brokerage and protocol plug-ins available.
                                                                       

                                                                       
</p>
  <h4 class="subsectionHead"><span class="titlemark">1.1  </span> <a 
href="#QQ2-1-3" id="x1-30001.1">Sources of information</a></h4>
<!--l. 40--><p class="noindent" >Beyond this manual, the following materials are currently available. </p>
     <ul class="itemize1">
     <li class="itemize">A <a href="http://openacs-dotlrn.wu-wien.ac.at">wiki version of this manual</a>, allowing for commenting publicly and writing ahead.
     </li>
     <li class="itemize">We aim at documenting elements of the public interfaces by means of the OpenACS
     in-code  documentation  facility  and  the  API  Browser.  References  will  be  given
     throughout  the  manual  where  appropriate.  For  inline  documentation,  watch  out  the
     OpenACS API Browser for <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/procs-file-view?path=packages/xotcl-soap/tcl/xosoap-client-procs.tcl">xosoap&#8217;s</a> and <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/procs-file-view?path=packages/xotcl-request-broker/tcl/xorb-stub-procs.tcl">xorb&#8217;s interface</a>.
     </li>
     <li class="itemize">Tutorial prepared for the <a href="http://oacs-dotlrn-conf2007.wu-wien.ac.at/">OpenACS Spring Conference 2007</a> (up-to-date):
         <ul class="itemize2">
         <li class="itemize"><a href="http://oacs-dotlrn-conf2007.wu-wien.ac.at/conf2007/file/sobernig-xosoap-slides.pdf? m=download|Slide set">Slide set</a>
         </li>
         <li class="itemize">A <a href="http://oacs-dotlrn-conf2007.wu-wien.ac.at/conf2007/file/tutorial-sobernig.mp4? m=download">podcast recording</a> of my talk</li></ul>
     </li>
     <li class="itemize"><a href="http://nm.wu-wien.ac.at/research/publications/b670.pdf">Tutorial (slide set)</a> prepared for the OpenACS Fall Conference 2006 (obsolete)</li></ul>
<!--l. 58--><p class="noindent" >Please, note that these resources reflect and document various stages of development and
don&#8217;t necessarily reflect the current state. The only source of information that is kept
up-to-date is this manual document and its wiki mirror. Moreover, some of them might focus
advanced concepts that are properly elaborated in the realm of this general-purpose
documentation.
</p><!--l. 63--><p class="indent" >  Besides, we assume some familiarity with basic XOTcl concepts and its syntax. There is an
increasing number of resources available on this nifty language, you might want to check out the
following resources to get started:
</p>
     <ul class="itemize1">
     <li class="itemize">There is a comprehensive <a href="http://media.wu-wien.ac.at/doc/tutorial.html">XOTcl manual</a> available.
     </li>
     <li class="itemize">A  reading  tailored  to  OpenACS  developers  is  to  be  found  in  <a href="http://www.matuska.org/martin/doc/xotcl-openacs-2007.pdf">XOTcl  for  OpenACS
     Developers</a>. There is also a <a href="http://www.matuska.org/martin/doc/xotcl-openacs-2007-p.pdf">podcast</a> on this topic available.</li></ul>
<!--l. 69--><p class="noindent" >
</p>
                                                                       

                                                                       
  <h4 class="subsectionHead"><span class="titlemark">1.2  </span> <a 
href="#QQ2-1-4" id="x1-40001.2">Copyright terms</a></h4>
<!--l. 70--><p class="noindent" >The XOTcl Request Broker (xorb) and all protocol plug-in packages, i.e. currently xosoap, are
provided under the provisions of the <a href="http://creativecommons.org/licenses/LGPL/2.1/">Lesser General Public License (LGPL) version 2.1</a>. All
accompanying and documentary work, including this document, comes under the <a href="http://creativecommons.org/licenses/by-sa/2.0/at/">Creative
Commons Attributation and Share-alike (by-sa) licence</a>.
</p><!--l. 76--><p class="noindent" >
</p>
  <h3 class="sectionHead"><span class="titlemark">2  </span> <a 
href="#QQ2-1-5" id="x1-50002">Installation &amp; configuration guideline</a></h3>
<!--l. 77--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">2.1  </span> <a 
href="#QQ2-1-6" id="x1-60002.1">Prerequisites</a></h4>
<!--l. 78--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">2.1.1  </span> <a 
href="#QQ2-1-7" id="x1-70002.1.1">Dependencies</a></h5>
     <ul class="itemize1">
     <li class="itemize"><span class="emph"><span class="underline">XOTcl module</span></span>: We require XOTcl in version <a href="http://media.wu-wien.ac.at/download/xotcl-1.5.4.tar.gz">1.5.4</a> (or higher) installed.
     </li>
     <li class="itemize"><span class="emph"><span class="underline">xotcl-core</span></span>: xorb/ xosoap are built upon version 0.51 (or higher).
     </li>
     <li class="itemize"><span class="emph"><span class="underline">acs-service-contract</span></span>: xorb/ xosoap use the abstraction layer for stored procedures as
     it  comes  with  recent  versions  of  xotcl-core  (::xo::  db::sql::*).  Since  version  5.4.0d1,
     postgresql-based  stored  procedures  defined  for  acs-service-contract  are  registered
     accordingly (acs_function_args table) and therefore exposed through the abstraction
     layer. However, having installed 5.4.0d1 is not mandatory, as we provide for a generic
     upgrade to lower versions of the package. This upgrade is non-invasive and non-critical
     to the overall functioning of your OpenACS installation.</li></ul>
                                                                       

                                                                       
<!--l. 84--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">2.1.2  </span> <a 
href="#QQ2-1-8" id="x1-80002.1.2">Patches</a></h5>
<!--l. 85--><p class="noindent" >As for the current release version (0.4), no additional patching is needed.
</p>
  <h4 class="subsectionHead"><span class="titlemark">2.2  </span> <a 
href="#QQ2-1-9" id="x1-90002.2">The XOTcl Request Broker (xorb)</a></h4>
<!--l. 87--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">2.2.1  </span> <a 
href="#QQ2-1-10" id="x1-100002.2.1">Installation</a></h5>
<!--l. 89--><p class="noindent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-10002x1">Get and install the APM package: You may grab the trunk or tag version directly from svn, by
     calling either <!--l. 90--><div class="lstlisting">
&#x00A0;<br /><span class="label"><a 
 id="x1-10003r1"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;svn&#x00A0;&#x003C;export&#x00A0;|&#x00A0;co&#x003E;&#x00A0;http://svn.thinkersfoot.net/xotcl-request-broker/trunk&#x00A0;xotcl-request-broker


     </div>
     <!--l. 94--><p class="noindent" >or </p><!--l. 95--><div class="lstlisting">
&#x00A0;<br /><span class="label"><a 
 id="x1-10004r1"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;svn&#x00A0;&#x003C;export&#x00A0;|&#x00A0;co&#x003E;&#x00A0;http://svn.thinkersfoot.net/xotcl-request-broker/tags/release-&#x003C;version&#x003E;&#x00A0;xotcl-request-broker


     </div>
     <!--l. 99--><p class="noindent" >Here, we assume that you are in your packages directory. Alternatively, you might want to
     <a href="http://stefan.thinkersfoot.net/websvn/listing.php?repname=xotcl-request-broker&path=%2F&sc=0">browse the current svn repository</a> to get a tarball. Besides, APM tarballs are provided at
     <a href="http://media.wu-wien.ac.at/download/">media.wu-wien.ac.at</a>
     </p></li>
     <li 
  class="enumerate" id="x1-10006x2">Proceed with the common way of installing OpenACS packages. Note, a restart of the server
     after the APM installation is recommended.
     </li>
     <li 
  class="enumerate" id="x1-10008x3">As a first step, you might want to point your browser to <span class="emph"><span class="underline">/request-broker/admin</span></span> which features a
     first administrative cockpit for xorb.</li></ol>
                                                                       

                                                                       
<!--l. 103--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">2.2.2  </span> <a 
href="#QQ2-1-11" id="x1-110002.2.2">Configuration</a></h5>
<!--l. 104--><p class="noindent" >Configuration, primarily, refers to adjusting package parameters. Currently, there are no critical
adjustments necessary at this level. In the future, we will provide necessary hints at this
point.
</p>
  <h4 class="subsectionHead"><span class="titlemark">2.3  </span> <a 
href="#QQ2-1-12" id="x1-120002.3">The SOAP protocol plug-in (xosoap)</a></h4>
<!--l. 106--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">2.3.1  </span> <a 
href="#QQ2-1-13" id="x1-130002.3.1">Installation</a></h5>
<!--l. 108--><p class="noindent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-13002x1">As with the request broker package, grab the APM package: Again, You may take trunk or tag
     version directly from svn, this time by calling either <!--l. 109--><div class="lstlisting">
&#x00A0;<br /><span class="label"><a 
 id="x1-13003r1"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;svn&#x00A0;&#x003C;export&#x00A0;|&#x00A0;co&#x003E;&#x00A0;http://svn.thinkersfoot.net/xosoap/trunk&#x00A0;xotcl-soap


     </div>
     <!--l. 113--><p class="noindent" >or </p><!--l. 114--><div class="lstlisting">
&#x00A0;<br /><span class="label"><a 
 id="x1-13004r1"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;svn&#x00A0;&#x003C;export&#x00A0;|&#x00A0;co&#x003E;&#x00A0;http://svn.thinkersfoot.net/xosoap/tags/release-&#x003C;version&#x003E;&#x00A0;xotcl-soap


     </div>
     <!--l. 118--><p class="noindent" >Here, we assume that you are in your packages directory. Alternatively, you might want to
     <a href="http://stefan.thinkersfoot.net/websvn/listing.php?repname=xosoap&path=%2F&sc=0">browse the current svn repository</a> to get a tarball. Besides, APM tarballs are provided at
     <a href="http://media.wu-wien.ac.at/download/">media.wu-wien.ac.at</a>
     </p></li>
     <li 
  class="enumerate" id="x1-13006x2">Proceed with the common way of installing OpenACS packages. Note, a restart of the server
     after the APM installation is recommended.
     </li>
     <li 
  class="enumerate" id="x1-13008x3">Go and check out <span class="emph"><span class="underline">/xosoap/services/</span></span> where you might find some useful pointers on listening
     (example) services.</li></ol>
                                                                       

                                                                       
<!--l. 122--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">2.3.2  </span> <a 
href="#QQ2-1-14" id="x1-140002.3.2">Configuration</a></h5>
<!--l. 123--><p class="noindent" >In contrast to xorb, xosoap comes with a few configuration options for you. The following table
provides an overview and some rough comments where necessary: </p>
<div class="center" 
>
<!--l. 124--><p class="noindent" >
<a 
 id="x1-14001r1"></a></p><!--l. 128--><div class="longtable"><table class="longtable" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1" /><col 
id="TBL-2-2" /></colgroup>
<tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-2-1-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-1"  
class="td11">
 <!--l. 128--><p class="noindent" >Option                             </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-2"  
class="td11">
 <!--l. 128--><p class="noindent" >Description                                                                                              </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-2-3-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-1"  
class="td11">
 <!--l. 130--><p class="noindent" >marshaling_style            </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-2"  
class="td11">
 <!--l. 130--><p class="noindent" >Currently, xotcl-soap provides two marshaling styles that are partly
   related to the family of WSDL specifications and invocation schemes
   depicted          by          this          specification.          You          might
   choose between RPC/Encoded (::xosoap::RpcEncoded), RPC/Literal
   (::xosoap::RpcLiteral)                                                                        or
   Document/Literal (::xosoap::DocumentLiteral), respectively. Currently,
   we default to ::xosoap::RpcLiteral.                                                          </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-1"  
class="td11">
 <!--l. 131--><p class="noindent" >service_segment            </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-2"  
class="td11">
 <!--l. 131--><p class="noindent" >The       parameter       value       specifies       the       uri       segment
   that       will       prefix       url       endpoints       of       services,       i.e.
   http://&#x003C;base_url&#x003E;/&#x003C;package_key&#x003E;/&#x003C;service_segment&#x003C;/&#x003C;object_identifier&#x003E;.
   It defaults to "services".                                                                           </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-1"  
class="td11">
 <!--l. 132--><p class="noindent" >interceptor_config           </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-2"  
class="td11">
 <!--l. 132--><p class="noindent" >xosoap  allows  for  injecting  specific  handlers  that  are  capable  of
   intercepting and mangling requests and responses. Currently, xosoap
   comes with two configuration of interceptors chains, i.e. "standard"
   and "extended". This feature is currently not properly documented and
   subject to substantial changes in the near future.                                   </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-7-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-2-7-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-8-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-8-1"  
class="td11">                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-9-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-9-1"  
class="td11">                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-10-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-10-1"  
class="td11">
 <!--l. 134--><p class="noindent" >                   </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-11-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-11-1"  
class="td11">
 <!--l. 134--><p class="noindent" >                   </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-12-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-12-1"  
class="td11">                 </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-12-2"  
class="td11"></td></tr>
</table></div>
</div>
                                                                       

                                                                       
<!--l. 137--><p class="noindent" >
</p>
  <h3 class="sectionHead"><span class="titlemark">3  </span> <a 
href="#QQ2-1-15" id="x1-150003">A quick start guide</a></h3>
<!--l. 138--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">3.1  </span> <a 
href="#QQ2-1-16" id="x1-160003.1">xorb</a></h4>
<!--l. 139--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">3.2  </span> <a 
href="#QQ2-1-17" id="x1-170003.2">xosoap</a></h4>
<!--l. 140--><p class="noindent" >The aim of this quick start section is to provide you with all the critical information required to get
you started with integrating SOAP in your OpenACS application in terms of consuming an existing
SOAP service and providing your own as quick as possible. We provide ready-made and take-away
code snippets and discuss the important steps in further detail. At some point, we might refer to
further readings or more advanced concepts. </p>
     <ul class="itemize1">
     <li class="itemize">By referring to "SOAP" throughout the quick start section, we, more precisely, take into consideration SOAP
     1.1  [<a href="#Xw3c:2000">3</a>].  Moreover,  we  exclusively  refer  to  RPC  as  messaging  or  rather  (de-)marshaling  style.  So,  any
     occurrence of "SOAP" should actually be read as "SOAP-RPC 1.1".</li></ul>
<!--l. 148--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">3.2.1  </span> <a 
href="#QQ2-1-18" id="x1-180003.2.1">How to glue to ...?</a></h5>
<!--l. 149--><p class="noindent" >Say, you want to realise a scenario as depicted in Figure <a 
href="#x1-18001r1">1<!--tex4ht:ref: fig:quickstart:xosoap:1 --></a>, i.e. you want to use the simple echo
functionality provided by a remote object or remote procedure through SOAP. In this example
scenario, we take a remote SOAP service called EchoService as a given. It might realised either in
xosoap itself or any other SOAP infrastructure framework, such as gSOAP, Apache Axis, .NET
Remoting and the like. Further, we assume that EchoService features a call "echoFloat" that
requires a single argument of type "float" (as defined as "built-in" simple type by the XML
schema specification) as input and promises to return a value of the very same type.
How do you call and consume this little example SOAP service by means of xosoap?
</p>
     <ul class="itemize1">
     <li class="itemize">As for data type declarations to be used on OpenACS Service Contracts or remoting protocols, there is a
     section in this manual dedicated to this issue (see Section <a 
href="#x1-240004.3">4.3<!--tex4ht:ref: sec:avanced:types --></a>). For the scope of this quick start section, all
                                                                       

                                                                       
     (data) types refer to what is known as "built-in" primitive types as defined by XML schema specification 1.0
     [<a href="#Xw3c:2004">2</a>]. In xorb, there is a distinction between data types tags you can use in specifying contracts and the type
     handler behind the scenes. The former, e.g. xsFloat in the below example, are called <span class="emph"><span class="underline">type codes</span></span>, the actual
     handler (an XOTcl object) is an <span class="emph"><span class="underline">anything</span></span>.</li></ul>
<hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x1-18001r1"></a>
<div class="center" 
>
<!--l. 161--><p class="noindent" >
</p><!--l. 162--><p class="noindent" ><img 
src="manual/src/img/consumer-72.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;1: </td><td  
class="content">Our example scenario</td></tr></table><!--tex4ht:label?: x1-18001r1 -->
</div>
  </td></tr></table></div><hr class="endfigure" />
     <ul class="itemize1">
     <li class="itemize">Hold on! If you prefer to skip the little code walk below, just look at the underlying and deployable example
     script xotcl-request-broker/www/doc/manual/examples/xosoap/example-01-soap-consumer.tcl or <a href="http://openacs-dotlrn.wu-wien.ac.at/request-broker/doc/manual/examples/xosoap/example-01- soap-consumer.tcl">direct your
     browser to it</a> to see it at work.
     </li>
     <li class="itemize">Interested in more details on a few flavours for realising soap clients: <a 
href="#x1-230004.2.1">4.2.1<!--tex4ht:ref: sec:advanced:interface:what --></a></li></ul>
<!--l. 174--><p class="noindent" >You just need four little steps and a few lines of code to get there:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-18003x1">Provide SOAP-specific configuration information as <span class="emph"><span class="underline">glue object</span></span>. To be concrete, create
     an  instance  of  the  XOTcl  class  <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::SoapGlueObject">::xosoap::SoapGlueObject</a>  and  initiate  the  newly
     created object with some important bits of information:  <!--l. 180--><div class="lstinputlisting">
<a 
 id="x1-18004"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-18005r1"></a>1</span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-18006r2"></a>2</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"\&#x00A0;<br /><span class="label"><a 
 id="x1-18007r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-18008r4"></a>4</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-18009r5"></a>5</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]


     </div>
     <!--l. 181--><p class="noindent" >In  these  four  lines,  we  create  and  initiate  an  instance  of  the  glue  object  class  and
     provide three information bits to it. In line 2, we pass the actual endpoint address. In
     a conventional setting, the transport endpoint corresponds to a valid unique resource
     identifier (URL) as required by the HTTP protocol as transport provider. Line 4 also
     meets  an  information  requirement  at  the  HTTP  level,  i.e.  the  value  assigned  to  a
     specific HTTP header field prescribed by SOAP 1.1 [<a href="#Xw3c:2000">3</a>] (and 1.2) specifications: the
     SOAPAction header field. Line 2 and the setter call on callNamespace, on the contrary,
     refers to a higher protocol level, i.e. the SOAP level. The value of callNamespace will
     be used to set the namespace attached to the method-describing element. This is used
     by a few SOAP frameworks, e.g. .NET Remoting, to dispatch the remote call correctly
     to the responsible servant. For a detailed list of configuration options, please, refer to
     <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::SoapGlueObject">::xosoap::SoapGlueObject</a>.
     </p><!--l. 192--><p class="noindent" >Want to learn more ... </p>
                                                                       

                                                                       
         <ul class="itemize1">
         <li class="itemize">... about what &#8217;glue objects&#8217; are? See <a 
href="#x1-270004.5.1">4.5.1<!--tex4ht:ref: sec:advanced:xorb:gobjects:what --></a>
         </li>
         <li class="itemize">... about re-using &#8217;glue object&#8217; to easen your tasks? See <a 
href="#x1-280004.5.2">4.5.2<!--tex4ht:ref: sec:advanced:xorb:gobjects:why --></a></li></ul>
     </li>
     <li 
  class="enumerate" id="x1-18011x2">Create a local proxy of the remote object or remote procedure, a so called <span class="emph"><span class="underline">client proxy</span></span>. This
     client proxy object holds a proxy method for the remote method or procedure to call. There
     are a few flavours for specifying such a client proxy, the most straight forward,
     however, is by instantiating <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::stub::ProxyObject">::xorb::stub::ProxyObject</a> and thus creating a proxy object.
     <!--l. 203--><div class="lstinputlisting">
<a 
 id="x1-18012"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-18013r6"></a>6</span>ProxyObject&#x00A0;EchoClient&#x00A0;-glueobject&#x00A0;$glueObject


     </div>
     <!--l. 204--><p class="noindent" >The only significant step here is to associate the previously defined glue object to the client
     proxy. The information encapsulated by the glue object is then used by the underlying
     infrastructure to perform the actual remote call out of the combined information of the glue
     object and the client proxies interface. So, there it is, what we are still missing is the very client
     proxy.
     </p></li>
     <li 
  class="enumerate" id="x1-18015x3">Specify and realise the interface of your client proxy. The notion of object interfaces, to keep it
     simple, refers to the set methods and their method signatures defined on the object. When
     looking at Figure <a 
href="#x1-18001r1">1<!--tex4ht:ref: fig:quickstart:xosoap:1 --></a>, we learn that the interface of the remote object EchoService is quite
     simplistic: There is a single method echoFloat that takes a single argument flagged
     "inputFloat". The argument is, apart from a concrete label, further qualified by a type
     constraint called xsFloat. These type constraints are realised as <a href="http://media.wu-wien.ac.at/doc/tutorial.html#non-pos-args">check options on
     non-positional arguments</a>, in XOTcl terms. Besides, the interface promises a specific return
     value type, stipulated by passing a type code value as non-positional argument "returns" to
     ad_proc. <!--l. 214--><div class="lstinputlisting">
<a 
 id="x1-18016"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-18017r7"></a>7</span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-18018r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{-inputFloat:xsFloat}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-18019r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-18020r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-18021r11"></a>11</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{}


     </div>
     <!--l. 215--><p class="noindent" >The method ad_proc that comes with <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::ProxyObject">::xorb::ProxyObject</a> overloads ad_proc as defined on
     ::xotcl::Object, see <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xorb::ProxyObject+instproc+ad_proc">::xorb::ProxyObject&#x2192;
     ad_proc</a> a detailed description.
     </p></li>
     <li 
  class="enumerate" id="x1-18025x4">Invoke the proxy method to perform the remote call <!--l. 218--><div class="lstinputlisting">
<a 
 id="x1-18026"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-18027r14"></a>14</span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.6180339887]





     </div>
     </li></ol>
<!--l. 220--><p class="noindent" >So far, it needed three declarative steps to realise a call to a SOAP service. The public
interface of xosoap comes with various levels of granularity (see <a 
href="#x1-230004.2.1">4.2.1<!--tex4ht:ref: sec:advanced:interface:what --></a>) with the above
example referring to the medium-level interface. The higher-level one allows to realise the
previous example in a total of three steps with only two declarative ones. Let&#8217;s rewrite the
example:
</p><!--l. 226--><p class="indent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-18029x1">The major difference is that step 1 and 2 of the previous procedure are merged into
     one single step. Note, we now take advantage of a construct that natively comes with
     xosoap, the class <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::client::SoapObject">::xosoap::client::SoapObject</a>. This makes it completely sufficient, for
     instance, to import from the Tcl namespace ::xosoap::client::* without any need to use
     facilities of xorb directly (see full code snippet of the following example in Listing <a 
href="#x1-38026r2">2<!--tex4ht:ref: lst:quickstart:xosoap:3 --></a>.)  <!--l. 233--><div class="lstinputlisting">
<a 
 id="x1-18030"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-18031r1"></a>1</span>SoapObject&#x00A0;EchoClient\&#x00A0;<br /><span class="label"><a 
 id="x1-18032r2"></a>2</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"\&#x00A0;<br /><span class="label"><a 
 id="x1-18033r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-18034r4"></a>4</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-18035r5"></a>5</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded


     </div>
     </li>
     <li 
  class="enumerate" id="x1-18037x2">The second step is, again, devoted to the declaration of the actual proxy interface, a
     local realisation of the echoFloat method on our combined proxy client and glue object:
     <!--l. 236--><div class="lstinputlisting">
<a 
 id="x1-18038"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-18039r6"></a>6</span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat\&#x00A0;<br /><span class="label"><a 
 id="x1-18040r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-18041r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:xsFloat&#x00A0;<br /><span class="label"><a 
 id="x1-18042r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-18043r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-18044r11"></a>11</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-18045r12"></a>12</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{}


     </div>
     </li>
     <li 
  class="enumerate" id="x1-18047x3">Finally, once the above is done, you can continue by issuing the call, i.e. invoke on the
     "remote" method: <!--l. 239--><div class="lstinputlisting">
<a 
 id="x1-18048"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-18049r13"></a>13</span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.61805]


     </div>
     </li></ol>
     <ul class="itemize1">
     <li class="itemize">See the complete example: Listing <a 
href="#x1-38026r2">2<!--tex4ht:ref: lst:quickstart:xosoap:3 --></a>. All examples are dumped into the following directory, ready to pick
     them up: xotcl-soap/www/manual/examples.
                                                                       

                                                                       
     </li>
     <li class="itemize">See (also for more example walk-throughs) Section <a 
href="#x1-230004.2.1">4.2.1<!--tex4ht:ref: sec:advanced:interface:what --></a></li></ul>
<!--l. 248--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">3.2.2  </span> <a 
href="#QQ2-1-27" id="x1-190003.2.2">Getting glued to ...?</a></h5>
<!--l. 249--><p class="noindent" >In this section, we will briefly look at some straight-forward ways to expose your OpenACS code as
a SOAP-based service. For this very purpose, we, again, consider the scenario as introduced in the
previous section, but this time, we shift focus. Now, we want xosoap to realise the EchoService, the
callee, and not, as previously, the EchoClient, i.e. the caller. Figure <a 
href="#x1-19037r2">2<!--tex4ht:ref: fig:quickstart:xosoap:2 --></a> indicates that we now aim at
realising a service that offers a single remote method, i.e. "echoFloat", that takes a single argument
of type "float" (again, as prescribed by the XML schema specfication) and is to echo the value of the
argument back to the caller, again as XML schema built-in "float". The service laterally
reverses the scenario in the previous section (see Section <a 
href="#x1-180003.2.1">3.2.1<!--tex4ht:ref: sec:xosoap:quickstart:glueto --></a>). How can you achieve
this?
</p><!--l. 260--><p class="indent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-19002x1">Declare and deploy an <span class="emph"><span class="underline">interface description</span></span>. In OpenACS, interface descriptions have
     a long-standing tradition, however, sometimes neglected. You might be familiar with or,
     at least, you might have heart of <span class="emph"><span class="underline">service contracts</span></span> as provided by the OpenACS core. If
     not, don&#8217;t panic! For the time being, you just need to know that there is something called
     "service contract" in OpenACS, that xorb builds upon this core feature of OpenACS
     and that you now need to create such a service contract, weird enough. Think of an
     interface  description  as  a  fundamental  sketch  of  an  object  interface  that  lays  down
     how the interface of a remote object and the interfaces of client proxies mimicking this
     remote object are to be construed. As for the EchoService in Figure <a 
href="#x1-19037r2">2<!--tex4ht:ref: fig:quickstart:xosoap:2 --></a>, a description
     might look the following way:  <!--l. 262--><div class="lstinputlisting">
<a 
 id="x1-19003"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-19004r1"></a>1</span>&#x00A0;&#x00A0;ServiceContract&#x00A0;EchoService&#x00A0;-defines&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19005r2"></a>2</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;Abstract&#x00A0;echoFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19006r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-arguments&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19007r4"></a>4</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inputDate:xsFloat&#x00A0;<br /><span class="label"><a 
 id="x1-19008r5"></a>5</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;-returns&#x00A0;returnValue:xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19009r6"></a>6</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-description&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19010r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Here,&#x00A0;we&#x00A0;outline&#x00A0;an&#x00A0;abstract&#x00A0;call&#x00A0;"echoFloat"&#x00A0;<br /><span class="label"><a 
 id="x1-19011r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;and&#x00A0;its&#x00A0;basic&#x00A0;characteristics&#x00A0;to&#x00A0;be&#x00A0;realised&#x00A0;<br /><span class="label"><a 
 id="x1-19012r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;both&#x00A0;by&#x00A0;servant&#x00A0;code&#x00A0;and&#x00A0;client&#x00A0;proxies.&#x00A0;<br /><span class="label"><a 
 id="x1-19013r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-19014r11"></a>11</span>&#x00A0;&#x00A0;}&#x00A0;-ad_doc&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19015r12"></a>12</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;This&#x00A0;contract&#x00A0;describes&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;<br /><span class="label"><a 
 id="x1-19016r13"></a>13</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;EchoService&#x00A0;example&#x00A0;service&#x00A0;as&#x00A0;introduced&#x00A0;by&#x00A0;<br /><span class="label"><a 
 id="x1-19017r14"></a>14</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;xorb&#8217;s&#x00A0;manual.&#x00A0;<br /><span class="label"><a 
 id="x1-19018r15"></a>15</span>&#x00A0;&#x00A0;}


     </div>
     <!--l. 263--><p class="noindent" >The above statement is, in the very literal sense of the word, a descriptive cast of a
     concrete EchoService service. Apart from a few bits of information targeting you as
     developer, it outlines that any servant or client proxy is meant to implement a method
     called  "echoFloat",  accepting  a  single  argument  and,  in  particular,  throwing  back  a
     return  value  of  a  specific  type.  Don&#8217;t  forget  to  "deploy"  your  newly  created  service
     contract by calling: </p><!--l. 264--><div class="lstinputlisting">
<a 
 id="x1-19019"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-19020r16"></a>16</span>&#x00A0;&#x00A0;EchoService&#x00A0;deploy





     </div>
     <!--l. 265--><p class="noindent" >This separate step of deployment might seem an overhead in this simple example, but it
     renders useful when considering more complex scenarios of designing and lifecycling
     interface descriptions. </p>
         <ul class="itemize1">
         <li class="itemize">There    is    a    shrinking    violet    of    an    inline    documentation    available,    see    in    particular,
         <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::ServiceContract">::xorb::ServiceContract</a> and <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Abstract">::xorb::Abstract</a>.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-19022x2">Provide servant code and register it with the invocation mechanism. The lines above are, as
     the notion of "interface description" implies, are mere description of something. What about
     the realisation of that something, i.e. the actual code block that is executed when the service
     is called. We refer to this code artefact as servant code or <span class="emph"><span class="underline">servant</span></span>, in short. But simply
     creating servant code is not enough, you still have to let xorb know which code block to
     invoke when calls from client proxies occur. The latter is referred to as providing a
     "service implementation", i.e. registering your code piece as realisation of a specific
     service contract! Behind the scenes and in some use cases, it might be more
     appropriate to deal with these two steps separately, however, in a straight-forward
     "get-me-a-soap-service" scenario, xorb provides a short cut to accomplish both in a single
     step: <!--l. 270--><div class="lstinputlisting">
<a 
 id="x1-19023"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-19024r17"></a>17</span>&#x00A0;&#x00A0;ServiceImplementation&#x00A0;EchoServiceImpl&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19025r18"></a>18</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-implements&#x00A0;EchoService&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19026r19"></a>19</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-using&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19027r20"></a>20</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Method&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19028r21"></a>21</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:required&#x00A0;<br /><span class="label"><a 
 id="x1-19029r22"></a>22</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{Echoes&#x00A0;an&#x00A0;incoming&#x00A0;float}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19030r23"></a>23</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;$inputFloat&#x00A0;<br /><span class="label"><a 
 id="x1-19031r24"></a>24</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-19032r25"></a>25</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}


     </div>
     <!--l. 271--><p class="noindent" >The non-positional argument <span class="emph"><span class="underline">-implements</span></span> identifies the service contract realised by the
     underlying servant code, while <span class="emph"><span class="underline">-using</span></span> allows for specifying the intended delegations, which
     concrete code block is meant to be called for which abstract call. In our concrete example,
     we both provide a servant method called echoFloat and, behind the scenes, this
     servant method is registered as callee for abstract calls on echoFloat as defined
     by the contract. Note that the facility <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Method">::xorb::Method</a> is actually an XOTcl object
     (i.e. a slot object, to be more precise) that mimics the declaration of instprocs and
     procs as known from XOTcl. Finally, also deploy your service implementation:
     </p><!--l. 272--><div class="lstinputlisting">
<a 
 id="x1-19033"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-19034r26"></a>26</span>&#x00A0;&#x00A0;EchoServiceImpl&#x00A0;deploy


     </div>
     <!--l. 273--><p class="noindent" >At this point, you have accomplished most of the work needed to provide your EchoService.
     Two things remain to be done: </p>
         <ul class="itemize1">
         <li class="itemize">Interested in some background reading on OpenACS&#8217;s service contracts? See the Section <a 
href="#x1-300005.1">5.1<!--tex4ht:ref: sec:internal:contracts --></a>.
         </li>
         <li class="itemize">See the complete Listing <a 
href="#x1-380008.1">8.1<!--tex4ht:ref: lst:quickstart:xosoap:7 --></a>.
                                                                       

                                                                       
         </li>
         <li class="itemize">Again,                              you                              might                              also                              want
         to watch out the API Browser for information on <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::ServiceImplementation">::xorb::ServiceImplementation</a>, <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Delegate">::xorb::Delegate</a>, and
         <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Method">::xorb::Method</a>.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-19036x3">You might have asked yourself, while going through step 1 and 2, where to actually put your
     the code outline above. Well, there are several answers to this question, you may choose
     between the following options:
         <ul class="itemize1">
         <li class="itemize">Your  package&#8217;s  library  files  (*-procs.tcl,  *-init.tcl):  Preferably,  drop  your  code
         in   files   situated   in   the   tcl-subdirectory   of   your   package.   In   either   case,
         whether  you  choose  a  *-procs  or  a  *-init  file,  make  sure  that  you  place
         the  following  line  before  the  actual  code  block  depicted  in  step  1  and  2:
         <span class="lstinline">::xo::db::package&#x00A0;require&#x00A0;xotcl-request-broker</span>.  Besides,  there  is  a  subtle  difference
         between the *-procs and *-init files. The latter are evaluated only once, during
         server  start-up.  This  means,  contracts  and  implementations  are  only  evaluate
         once.  If  you  constantly  develop,  let&#8217;s  say,  the  servant  code  declared  by  your
         implementation, and you want your modifications/ improvements to take effect
         without a dedicated server re-start, go for the *-procs option. This way, you can
         take advantage of xorb&#8217;s reload and watch features.
         </li>
         <li class="itemize">Your  package&#8217;s  W(eb)  U(user)  I(nterface)  files:  In  principle,  you  can  specify  a
         contract (::xorb::ServiceContract) in one of your www-subdirectory files as well.
         While it limits their usage, it does not break any functionality. Implementations
         (::xorb::ServiceImplementation) might as well be specified in WUI files, however,
         only the most basic variant makes sense in this context. The code of step 2 would
         not make sense as it defines servant code as well which should be available for
         all connections, i.e. in the context of all connection threads, and not only the one
         you specified it in by calling the WUI file.
         </li>
         <li class="itemize">Developer  shell:  You  can  also  drop  the  code  in  the  shell  as  provided  by  the
         Developer Support package, however, the limitations for WUI scripts apply here
         as well.</li></ul>
     </li></ol>
<hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x1-19037r2"></a>
<div class="center" 
>
<!--l. 289--><p class="noindent" >

</p><!--l. 290--><p class="noindent" ><img 
src="manual/src/img/provider-72.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;2: </td><td  
class="content">Our example scenario &#8211; The provider side</td></tr></table><!--tex4ht:label?: x1-19037r2 -->
</div>
  </td></tr></table></div><hr class="endfigure" />
                                                                       

                                                                       
<!--l. 296--><p class="indent" >  Finally, we want to look at two further nifty features for writing the callee interface,
i.e. the service implementation, and servants. The first one refers to what is known as
<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Delegate">::xorb::Delegate</a>, yet another way of linking abstract definitions to concrete servant code
blocks. First, the above example could be rewritten in a probably common scenario.
Just imagine, you previously created a piece of code (e.g., a proc) and you simply want
to expose this artefact as servant instead of creating one by using <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Method">::xorb::Method</a> as
shown above. Or, you simply articulate the requirement that you keep prospective servant
code and mere registration or binding code neatly seperated. In either case, you can
revert to the use of little forwarding feature, i.e. <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Delegate">::xorb::Delegate</a>. Let&#8217;s rewrite Listing <a 
href="#x1-380008.1">8.1<!--tex4ht:ref: lst:quickstart:xosoap:7 --></a>
accordingly:
</p><!--l. 299--><p class="indent" >  The starting point is the assumption that there is an existing code block that we want taking the
role of a servant for the abstract echoFloat method defined by our example contract. This particular
proc might take the following form:  </p><!--l. 301--><div class="lstinputlisting">
<a 
 id="x1-19038"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-19039r1"></a>1</span>namespace&#x00A0;eval&#x00A0;:some_name_space&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19040r2"></a>2</span>&#x00A0;&#x00A0;proc&#x00A0;servantProc&#x00A0;{inputFloat}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19041r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;$inputFloat&#x00A0;<br /><span class="label"><a 
 id="x1-19042r4"></a>4</span>&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-19043r5"></a>5</span>}

  </div>
<!--l. 303--><p class="indent" >  In view of our code base, we could then rewrite our service implementation the following way,
using <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Delegate">::xorb::Delegate</a>.
</p>
  <!--l. 305--><div class="lstinputlisting">
<a 
 id="x1-19044"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-19045r6"></a>6</span>&#x00A0;&#x00A0;ServiceImplementation&#x00A0;EchoServiceImpl&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19046r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-implements&#x00A0;EchoService&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19047r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-using&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-19048r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Delegate&#x00A0;echoFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19049r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-per-object&#x00A0;true&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19050r11"></a>11</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-private_p&#x00A0;true&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19051r12"></a>12</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-for&#x00A0;::some_name_space::servantProc&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-19052r13"></a>13</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;{Echoes&#x00A0;an&#x00A0;incoming&#x00A0;float}&#x00A0;<br /><span class="label"><a 
 id="x1-19053r14"></a>14</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}

  </div>
<!--l. 307--><p class="indent" >  Let&#8217;s, for a second, neglect some minor varations we introduced in the above lines and that might
distract. Key to the example is that the service implementation now, once the specification has been
successfully processed, won&#8217;t host any callable method on its own, it rather acts as forwarder to
your candidate proc. This delegation step is realised by providing an absolute and qualified
reference to the target proc to the non-positional argument <span class="lstinline">-for</span>. Apart from the changed semantics,
it will produce the same result as Listing <a 
href="#x1-380008.1">8.1<!--tex4ht:ref: lst:quickstart:xosoap:7 --></a>. Some refinements are also shown in the
above snippet that did not show up in the introductory listing. You might have spotted
that <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Delegate">::xorb::Delegate</a> takes a couple of extra parameters. The same set is available for
<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Method">::xorb::Method</a>. In fact, both support all parameters known from ad_proc (or ad_instproc). In
addition, they come with an optional parameter <span class="lstinline">-per-object</span>. If you are familiar with XOTcl,
you will have noticed that methods, and beyond, can be declared directly on objects
or for instances of the declaring object. Therefore, the distinction between "proc" and
"instproc", just to name the most prominent one. Similarily, you define the <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Delegate">::xorb::Delegate</a>
and <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Method">::xorb::Method</a> either at the per-object or per-instance level. Behind the scenes,
xorb&#8217;s invocation mechanism detects either way and will handle dispatches accordingly.
</p>
     <ul class="itemize1">
     <li class="itemize">You might want to check out the API Browser for <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Delegate">::xorb::Delegate</a> and <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Method">::xorb::Method</a>.</li></ul>
                                                                       

                                                                       
<!--l. 312--><p class="noindent" >As you just learnt, <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Delegate">::xorb::Delegate</a> provides for rather simple delegating dispatch of abstract calls. A
thorough look at the above example of a serving proc, i.e. "servantProc", might have created some
suspicion: Tcl procs allow for positional argument passing, if we neglect the ad_proc facility of
OpenACS for a second. However, xorb is primarily built around non-positional arguments.
We briefly mentioned this fact while describing the semantics of <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Abstract">::xorb::Abstract</a>. This
is due to the fact that xorb heavily uses <a href="http://media.wu-wien.ac.at/doc/tutorial.html#non-pos-args">XOTcl check options</a> that are (at least up to
the 1.5.x generation) exclusively available to non-positional arguments. Besides, most
remoting protocols, including SOAP and XML-RPC adopted this pattern of argument passing
[<a href="#Xzdun:2005b">9</a>].
</p><!--l. 314--><p class="indent" >  Be that as it may, it leaves xorb with servants that do not take non-positional arguments. However,
thanks to (XO)Tcl&#8217;s introspective capabilities, xorb provides for <span class="emph"><span class="underline">argument bridging</span></span>. It will identify the
type of servant code block and adapt the pending call dispatch accordingly, including the rewrite of
the passed argument-value list. Note, there are of course limitations to this approach,
namely if you consider mixed signatures, containing both positional and non-positional
arguments.
</p><!--l. 317--><p class="noindent" >
</p>
  <h3 class="sectionHead"><span class="titlemark">4  </span> <a 
href="#QQ2-1-35" id="x1-200004">Advanced usage</a></h3>
<!--l. 318--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">4.1  </span> <a 
href="#QQ2-1-36" id="x1-210004.1">How to test your services</a></h4>
<!--l. 319--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">4.2  </span> <a 
href="#QQ2-1-37" id="x1-220004.2">Public interface</a></h4>
<!--l. 320--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">4.2.1  </span> <a 
href="#QQ2-1-38" id="x1-230004.2.1">What is the structure of xorb&#8217;s and xosoap&#8217;s public interfaces?</a></h5>
<!--l. 321--><p class="noindent" >As can be seen from Figure <a 
href="#x1-23025r3">3<!--tex4ht:ref: fig:advanced:interface:1 --></a>, the interface available is organised in three packages and at the
same time levels of granularity. The <span class="emph"><span class="underline">lowest-level interface</span></span> is deeply integrated with XOTcl
constructs, especially <a href="http://media.wu-wien.ac.at/langRef-xotcl.html#Object">::xotcl::Object</a> and <a href="http://media.wu-wien.ac.at/langRef-xotcl.html#Class">::xotcl::Class</a>. xorb, therefore, allows to turn any XOTcl
                                                                       

                                                                       
object into a client proxy to take advantage of call abstractions (either in a distributed or non-
distributed scenario). At this level, xorb introduces two particular keywords (i.e. methods) that allow
to define proxy methods in the literal sense of the word on ::xotcl::Object and its sub classes,
<a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+glue">::xotcl::Object&#x2192;
glue</a> (or <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+ad_glue">::xotcl::Object&#x2192;
ad_glue</a>). These methods appear as keywords (one might refer to modifiers, though this is not
appropriate strictly speaking) to ordinary proc or instproc declarations, however, these
method declaration don&#8217;t require or allow method bodies to be defined. The example
provided in the quickstart guide (see <a 
href="#x1-170003.2">3.2<!--tex4ht:ref: sec:quickstart:xosoap --></a> can be realised with any XOTcl object, by simply
writing:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-23002x1">First, again, create a "glue" object and pass the necessary call information:  <!--l. 334--><div class="lstinputlisting">
<a 
 id="x1-23003"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-23004r1"></a>1</span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-23005r2"></a>2</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-23006r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-23007r4"></a>4</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-23008r5"></a>5</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]


     </div>
     </li>
     <li 
  class="enumerate" id="x1-23010x2">In this step, you can simply revert to the use of an ordinary object. Either create one
     (as shown in the example below) or use existing objects and make them proxy objects
     by, first, attaching the glue object to it and, second, declare a proxy interface by means
     of <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+ad_glue">::xotcl::Object&#x2192;
     ad_glue</a> (or <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+glue">::xotcl::Object&#x2192;
     glue</a>): <!--l. 336--><div class="lstinputlisting">
<a 
 id="x1-23011"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-23012r6"></a>6</span>::xotcl::Object&#x00A0;EchoClient&#x00A0;-glueobject&#x00A0;$glueObject


     </div>
     <!--l. 337--><div class="lstinputlisting">
<a 
 id="x1-23013"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-23014r7"></a>7</span>EchoClient&#x00A0;ad_glue&#x00A0;-returns&#x00A0;xsFloat\&#x00A0;<br /><span class="label"><a 
 id="x1-23015r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;proc&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-23016r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:xsFloat,glue&#x00A0;<br /><span class="label"><a 
 id="x1-23017r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-23018r11"></a>11</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-23019r12"></a>12</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-23020r13"></a>13</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}


     </div>
     </li>
     <li 
  class="enumerate" id="x1-23022x3">The actual call is effectuated the same way as in the previous example: <!--l. 339--><div class="lstinputlisting">
<a 
 id="x1-23023"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-23024r14"></a>14</span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.61805]


     </div>
     </li></ol>
                                                                       

                                                                       
<!--l. 341--><p class="noindent" >At this level, proxy methods appear in their purest forms as mere placeholders for abstract calls
realising a local representation of a remote (object) interface. Please, note that declarations by
means of <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+glue">::xotcl::Object&#x2192;
glue</a>/ <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+ad_glue">::xotcl::Object&#x2192;
ad_glue</a> don&#8217;t take a method body as they are mere interface descriptors. This makes them
syntactically comparable to the <a href="http://media.wu-wien.ac.at/langRef-xotcl.html#Object-abstract">abstract keyword</a> that comes with XOTcl to mimic abstract classes.
However, do not align them at the semantic level. </p><hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x1-23025r3"></a>
<div class="center" 
>
<!--l. 347--><p class="noindent" >

</p><!--l. 348--><p class="noindent" ><img 
src="manual/src/img/xorb-xosoap-consumer-interface-72.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;3: </td><td  
class="content">Class diagram of interface entities</td></tr></table><!--tex4ht:label?: x1-23025r3 -->
</div>
  </td></tr></table></div><hr class="endfigure" />
<!--l. 354--><p class="indent" >  The <span class="emph"><span class="underline">medium-level interface</span></span> is already familiar to you when reviewing the quick start
section. It is provided by xorb and more or less introduces two xorb-specific constructs, i.e.
<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::stub::ProxyObject">::xorb::stub::ProxyObject</a> and <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::stub::ProxyClass">::xorb::stub::ProxyClass</a>. While they inherit all capabilities of the low-
level interface, they provide additional facilities to create and use proxy objects. A glimpse at Figure
<a 
href="#x1-23025r3">3<!--tex4ht:ref: fig:advanced:interface:1 --></a> reveals that they overwrite the methods <span class="emph"><span class="underline">ad_proc</span></span> provided by <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xotcl::Object">::xotcl::Object</a> and <span class="emph"><span class="underline">ad_instproc</span></span>
offered by <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xotcl::Class">::xotcl::Class</a>. This already suggests that proxy interfaces can now be declared in a
slightly different manner than by <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+glue">::xotcl::Object&#x2192;
glue</a>/ <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+ad_glue">::xotcl::Object&#x2192;
ad_glue</a>. While you can still revert to the former, <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xorb::stub::ProxyObject+instproc+ad_proc">::xorb::stub::ProxyObject&#x2192;
ad_proc</a> and <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xorb::stub::ProxyClass+instproc+ad_instproc">::xorb::stub::ProxyClass&#x2192;
ad_instproc</a> allow for interface descriptors with method bodies. When looking at Listing <a 
href="#x1-38026r2">2<!--tex4ht:ref: lst:quickstart:xosoap:3 --></a>, you might
notice that the argument declaring the method body is empty (corresponds to an empty Tcl string).
For the sake of simplicity, we did not introduce a notable feature of the medium-level interface at this
stage that we refer to as <span class="emph"><span class="underline">proxy templates</span></span>. For a primer on this concept and examples see Section
<a 
href="#x1-250004.4">4.4<!--tex4ht:ref: sec:advanced:template --></a>.
</p><!--l. 364--><p class="indent" >  The <span class="emph"><span class="underline">high-level interface</span></span>, as can been seen from Figure <a 
href="#x1-23025r3">3<!--tex4ht:ref: fig:advanced:interface:1 --></a>, is a purely protocol plug-in-specific
one. As for xosoap, we provide two intregating constructs: <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::client::SoapObject">::xosoap::client::SoapObject</a>
and <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::client::SoapClass">::xosoap::client::SoapClass</a> inherit, expose, and combine properties of glue objects
and proxy clients in one. This allows for an abbreviated and compact writing of SOAP
client code, with all facilities introduced by lower interface levels. For an introductory
example see the quick start section on xosoap (see Section <a 
href="#x1-170003.2">3.2<!--tex4ht:ref: sec:quickstart:xosoap --></a>) and, in particular, Listing
<a 
href="#x1-38026r2">2<!--tex4ht:ref: lst:quickstart:xosoap:3 --></a>.
</p>
  <h4 class="subsectionHead"><span class="titlemark">4.3  </span> <a 
href="#QQ2-1-44" id="x1-240004.3">Data type infrastructure</a></h4>
<!--l. 372--><p class="noindent" >Providing framework support for data type handling, especially in a cross-language and
multi-protocol setup is a challenging task. Nevertheless, framework designers and developers may
revert to well documented experiences on these issues and do not have to start from scratch. By
                                                                       

                                                                       
these documented experiences, we primarily refer to a set of design patterns, some of them to be
found in [<a href="#Xzdun:2005b">9</a>, <a href="#Xsommerlad:1998">7</a>, <a href="#Xmaetzel:1996">6</a>]. For the very moment, we do not want to go into details of the framework
implementation, rather provide a quick overview on, first, terminology and, second, facilities to be
used by you, the developer.
</p><!--l. 374--><p class="indent" >  As for terminology, there are just very few concepts to remember. If you recall the examples in
specifying client proxies or service contracts (see Section <a 
href="#x1-170003.2">3.2<!--tex4ht:ref: sec:quickstart:xosoap --></a>), the way you specified the signature
of a proxy method or <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::Abstract">::xorb::Abstract</a> always involved specific <a href="http://media.wu-wien.ac.at/doc/tutorial.html#non-pos-args">check options</a>. These might look
familar:
</p>
  <!--l. 376--><div class="lstinputlisting">
<a 
 id="x1-24001"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-24002r1"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{-inputFloat:xsFloat}&#x00A0;{

  </div>
  <!--l. 378--><div class="lstinputlisting">
<a 
 id="x1-24003"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-24004r1"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;Abstract&#x00A0;echoFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-24005r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-arguments&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-24006r3"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inputDate:xsFloat&#x00A0;<br /><span class="label"><a 
 id="x1-24007r4"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;-returns&#x00A0;returnValue:xsFloat&#x00A0;\

  </div>
<!--l. 380--><p class="indent" >  <a href="http://media.wu-wien.ac.at/doc/tutorial.html#non-pos-args">Check options</a>, again, are a native XOTcl concept to formulate constraints of various types on
non-positional arguments. In xorb, however, we use this native XOTcl mechanism to specify
special, i.e. protocol-specific type constraints. "xsFloat", as used and shown in the above
examples, is referred to as <span class="emph"><span class="underline">type code</span></span>, i.e. a short-cut identifier for a specific type handler. The
actual type handler, i.e. <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::Float">::xosoap::xsd::Float</a> is named <span class="emph"><span class="underline">anything type</span></span>, or simply <span class="emph"><span class="underline">anything</span></span>.
The main idea of anythings are nicely elaborated on by [<a href="#Xsommerlad:1998">7</a>, <a href="#Xmaetzel:1996">6</a>], however, the main idea is
to provide a generic and uniform value container that comes with on-demand casting.
</p>
     <ul class="itemize1">
     <li class="itemize">Note, some clarifying side notes might be required at this point: The term casting may not be mistaken for
     what it refers to in compiled and (strongly) typed languages. In the realm of xorb, it simply refers to exposing
     a value in accordance with some value space and representation constraints.
     </li>
     <li class="itemize">Another side note might be appropriate. The term "type code" is prominently used in another, pure-SOAP
     framework  written  in  and  for  Python,  i.e.  the  Zolera  SOAP  infrastructure  (ZSI,  [<a href="#Xzsi:2007">1</a>]).  However,  type
     codes  though  realising  a  comparable  aim,  are  properties  to  Python  objects  later  used  by  type-specific
     (de-)marshallers. In xorb, type code serve a more declarative purpose, simply by hijacking the <a href="http://media.wu-wien.ac.at/doc/tutorial.html#non-pos-args">check option
     mechanism</a> of XOTcl.</li></ul>
<!--l. 385--><p class="noindent" >The third and last concept realises what is need to provide for multi-protocol support. Just imagine,
you want to re-use, or rather, expose a service contract originally defined for the local use in an
OpenACS instance as interface description for a SOAP-based service. Type codes such as string,
integer, etc. need to be resolved for the scope of SOAP and WSDL handling. Therefore, xorb comes
with the idea of <span class="emph"><span class="underline">type sponsorships</span></span>. A <span class="emph"><span class="underline">type sponsor</span></span> is a data type handler, i.e. an anything, that
comes with a protocol plug-in and announces, upon initialisation, itself as sponsor to a
xorb general-purpose anything. The xorb-specific anything then, upon being processed
                                                                       

                                                                       
during the handling of invocation dispatches, resolves its sponsor for the actually used
protocol.
</p><!--l. 387--><p class="indent" >  Find below a list of currently supported types, providing the type codes at hand and the anythings
acting in the background. Rows read as sponsorship relationships (if realised).
</p>
<div class="center" 
>
<!--l. 389--><p class="noindent" >
<a 
 id="x1-24008r2"></a></p><!--l. 393--><div class="longtable"><table class="longtable" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1" /><col 
id="TBL-3-2" /><col 
id="TBL-3-3" /></colgroup>
<tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-1-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-2-1"  
class="td11">
 <!--l. 393--><p class="noindent" >xorb types (type code / anything)                              </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-2-2"  
class="td11">
 <!--l. 393--><p class="noindent" >xosoap types (type code / anything)                      </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-2-3"  
class="td11">
 <!--l. 393--><p class="noindent" >comments                                         </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-3-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-4-1"  
class="td11">
 <!--l. 395--><p class="noindent" >void |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Void">::xorb::datatypes::Void</a>            </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-4-2"  
class="td11">
 <!--l. 395--><p class="noindent" >xsVoid |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsVoid">::xosoap::xsd::XsVoid</a>         </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-4-3"  
class="td11">
 <!--l. 395--><p class="noindent" >Void is a particular type descriptor
   (not  featured  in  XML  schema  or
   the                                          like),
   more or less, making explicit when
   block  calls  do  not  convey  results
   in  explicit  invocation.  This  might
   not be unambiguously expressible
   by  language  means,  as  in  Tcl,
   and  is  a  particular  challenge  in
   cross-language settings.                   </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-5-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-6-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-6-1"  
class="td11">
 <!--l. 397--><p class="noindent" >string | <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::String">::xorb::datatypes::String</a>        </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-6-2"  
class="td11">
 <!--l. 397--><p class="noindent" >xsString | <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsString">::xosoap::xsd::XsString</a>     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-6-3"  
class="td11">
 <!--l. 397--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#string">xsd:string</a>                                   </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-7-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-7-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-8-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-8-1"  
class="td11">
 <!--l. 399--><p class="noindent" >integer | <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Integer">::xorb::datatypes::Integer</a>    </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-8-2"  
class="td11">
 <!--l. 399--><p class="noindent" >xsInt | <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsInt">::xosoap::xsd::XsInt</a>                </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-8-3"  
class="td11">
 <!--l. 399--><p class="noindent" >See  <a href="http://www.w3.org/TR/xmlschema-2/#int">xsd:int</a>.  Note,  XOTcl  actually
   comes   with   a   native   "integer"
   check   option,   this   is,   however,
   overdefined  in  the  realm  of  xorb.
   The sponsorship of xsd:int for a Tcl
   integer is not yet quite decided, but
   it has been proven useful in known
   scenarios.                                         </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-9-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-9-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-10-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-10-1"  
class="td11">
 <!--l. 401--><p class="noindent" >boolean
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Boolean">::xorb::datatypes::Boolean</a>             </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-10-2"  
class="td11">
 <!--l. 401--><p class="noindent" >xsBoolean
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsBoolean">::xosoap::xsd::XsBoolean</a>              </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-10-3"  
class="td11">
 <!--l. 401--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#boolean">xsd:boolean</a>                               </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-11-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-11-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-12-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-12-1"  
class="td11">
 <!--l. 403--><p class="noindent" >timestamp
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Timestamp">::xorb::datatypes::Timestamp</a>         </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-12-2"  
class="td11">
 <!--l. 403--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-12-3"  
class="td11">
 <!--l. 403--><p class="noindent" >We  assumed,  at  the  xorb  side,  a
   correspondence  to  the  SQL:1999
   data  type  "timestamp"  WITHOUT
   timezone                                           </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-13-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-13-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-14-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-14-1"  
class="td11">
 <!--l. 405--><p class="noindent" >uri |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Uri">::xorb::datatypes::Uri</a>                 </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-14-2"  
class="td11">
 <!--l. 405--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-14-3"  
class="td11">
 <!--l. 405--><p class="noindent" >We  provide  for  some  RFC  3986
   validation.                                          </p></td>
                                                                       

                                                                       
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-15-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-15-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-16-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-16-1"  
class="td11">
 <!--l. 407--><p class="noindent" >version
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Version">::xorb::datatypes::Version</a>              </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-16-2"  
class="td11">
 <!--l. 407--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-16-3"  
class="td11">
 <!--l. 407--><p class="noindent" >Uses   regular   expression   taken
   from OpenACS package manager.   </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-17-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-17-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-18-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-18-1"  
class="td11">
 <!--l. 409--><p class="noindent" >float |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Float">::xorb::datatypes::Float</a>           </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-18-2"  
class="td11">
 <!--l. 409--><p class="noindent" >xsFloat |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsFloat">::xosoap::xsd::XsFloat</a>       </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-18-3"  
class="td11">
 <!--l. 409--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#bytearray">xsd:bytearray</a>                             </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-19-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-19-1"  
class="td11">
 <!--l. 410--><p class="noindent" >bytearray
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Bytearray">::xorb::datatypes::Bytearray</a>           </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-19-2"  
class="td11">
 <!--l. 410--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-19-3"  
class="td11">
 <!--l. 410--><p class="noindent" >At  the  xorb-side,  it  is  not  clear
   to   us   what   is   actually   labelled
   "bytearray"  and  which  particular
   forms  of  Tcl  strings  are  meant  to
   be ruled by this type description.      </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-20-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-20-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-21-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-21-1"  
class="td11">
 <!--l. 412--><p class="noindent" >object |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::datatypes::Object">::xorb::datatypes::Object</a>     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-21-2"  
class="td11">
 <!--l. 412--><p class="noindent" >soapStruct
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::soapStruct">::xosoap::xsd::soapStruct</a>               </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-21-3"  
class="td11">
 <!--l. 412--><p class="noindent" >This   sponsor   relationship   might
   change   in   the   near   future,   as
   soon  as  the  marshaling  styles  in
   xosoap are consolidated. The use
   of  ::xotcl::Objects  in  xorb  is  not
   quite clarified, but shown here for
   the sake of completeness.                </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-22-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-22-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-23-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-23-1"  
class="td11">
 <!--l. 414--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-23-2"  
class="td11">
 <!--l. 414--><p class="noindent" >xsDecimal
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsDecimal">::xosoap::xsd::XsDecimal</a>               </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-23-3"  
class="td11">
 <!--l. 414--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#decimal">xsd:decimal</a>                               </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-24-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-24-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-25-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-25-1"  
class="td11">
 <!--l. 416--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-25-2"  
class="td11">
 <!--l. 416--><p class="noindent" >xsInteger
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsInteger">::xosoap::xsd::XsInteger</a>                </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-25-3"  
class="td11">
 <!--l. 416--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#integer">xsd:integer</a>                                 </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-26-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-26-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-27-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-27-1"  
class="td11">
 <!--l. 418--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-27-2"  
class="td11">
 <!--l. 418--><p class="noindent" >xsLong |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsLong">::xosoap::xsd::XsLong</a>       </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-27-3"  
class="td11">
 <!--l. 418--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#long">xsd:long</a>                                     </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-28-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-28-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-29-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-29-1"  
class="td11">
 <!--l. 420--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-29-2"  
class="td11">
 <!--l. 420--><p class="noindent" >xsDouble
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsDouble">::xosoap::xsd::XsDouble</a>                </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-29-3"  
class="td11">
 <!--l. 420--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#double">xsd:double</a>                                 </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-30-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-30-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-31-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-31-1"  
class="td11">
 <!--l. 422--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-31-2"  
class="td11">
 <!--l. 422--><p class="noindent" >xsDate |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsDate">::xosoap::xsd::XsDate</a>        </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-31-3"  
class="td11">
 <!--l. 422--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#date">xsd:date</a>                                     </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-32-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-32-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-33-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-33-1"  
class="td11">
 <!--l. 424--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-33-2"  
class="td11">
 <!--l. 424--><p class="noindent" >xsTime |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsTime">::xosoap::xsd::XsTime</a>       </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-33-3"  
class="td11">
 <!--l. 424--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#time">xsd:time</a>                                     </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-34-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-34-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-35-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-35-1"  
class="td11">
 <!--l. 426--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-35-2"  
class="td11">
 <!--l. 426--><p class="noindent" >xsDateTime
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsDateTime">::xosoap::xsd::XsDateTime</a>            </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-35-3"  
class="td11">
 <!--l. 426--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#dateTime">xsd:dateTime</a>                             </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-36-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-36-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-37-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-37-1"  
class="td11">
 <!--l. 428--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-37-2"  
class="td11">
 <!--l. 428--><p class="noindent" >xsBase64Binary
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsBase64Binary">::xosoap::xsd::XsBase64Binary</a>     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-37-3"  
class="td11">
 <!--l. 428--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#base64Binary">xsd:base64Binary</a>                      </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-38-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-38-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-39-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-39-1"  
class="td11">
 <!--l. 430--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-39-2"  
class="td11">
 <!--l. 430--><p class="noindent" >xsHexBinary
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::XsHexBinary">::xosoap::xsd::XsHexBinary</a>           </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-39-3"  
class="td11">
 <!--l. 430--><p class="noindent" >See <a href="http://www.w3.org/TR/xmlschema-2/#hexBinary">xsd:hexBinary</a>                            </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-40-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-40-1"  
class="td11">                        </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-40-2"  
class="td11">                        </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-40-3"  
class="td11"></td></tr>
<tr  
 style="vertical-align:baseline;" id="TBL-3-41-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-41-1"  
class="td11"><!--cmidrule-->
                                                                       

                                                                       
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-42-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-42-1"  
class="td11">
 <!--l. 432--><p class="noindent" >n/a                                                     </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-42-2"  
class="td11">
 <!--l. 432--><p class="noindent" >soapArray
   |&#x00A0;<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::xsd::SoapArray">::xosoap::xsd::SoapArray</a>               </p></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-42-3"  
class="td11">
 <!--l. 432--><p class="noindent" >Depending                                 on
   the  message/marshaling  style  we
   either  go  for  the  SOAP  encoded
   array or the WS-I compliant array
   notation.                                            </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-43-"><td colspan="3" style="white-space:wrap; text-align:left;" id="TBL-3-43-1"  
class="td11"><!--cmidrule-->
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-44-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-44-1"  
class="td11">                             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-45-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-45-1"  
class="td11">                             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-46-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-46-1"  
class="td11">
 <!--l. 435--><p class="noindent" >                            </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-47-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-47-1"  
class="td11">
 <!--l. 435--><p class="noindent" >                            </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-48-"><td  style="white-space:wrap; text-align:left;" id="TBL-3-48-1"  
class="td11">
 <!--l. 435--><p class="noindent" >                            </p></td>
</tr>
</table></div>
</div>
<!--l. 439--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">4.4  </span> <a 
href="#QQ2-1-47" id="x1-250004.4">Proxy templates</a></h4>
<!--l. 440--><p class="noindent" >Proxy templates or rather template methods on proxy objects follow a primary intention:
Extending the use of pure interface descriptors to full-featured methods that allow to
pack program logic along with a call abstraction in a single method body. Our intention
can be best summarised when following the idea of the Template Method pattern as
documented by [<a href="#Xgof:1994">4</a>]. As the term "template" suggests, there might be scenarios that integrate call
abstraction, or in our remoting scenario simply remote calls, in more complex (i.e. multi-step)
behaviour. This is, certainly, also realisable with the lower-level interface. However, it would
require another construct, either a proc, or a sub class etc., that combines the general
behaviour and the invocation references to the abstract calls. By means of proxy template
methods as introduced by the medium-level interface you can know write template code and
invocations of abstract calls in the same method block, making encapsulation in this
respect more seamless. A primary, and still easily graspable example are conditional
invocations of abstract calls. Let&#8217;s take the following example of Listing <a 
href="#x1-38001r1">1<!--tex4ht:ref: lst:quickstart:xosoap:2 --></a> where we simply
rewrite lines 16 &#8211; 21. This yields the following (see Listing <a 
href="#x1-38087r4">4<!--tex4ht:ref: lst:quickstart:xosoap:5 --></a> for the complete example):
</p><!--l. 454--><div class="lstinputlisting">
<a 
 id="x1-25001"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-25002r1"></a>1</span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25003r2"></a>2</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{-inputFloat:xsFloat,glue}&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25004r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-25005r4"></a>4</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25006r5"></a>5</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint.&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25007r6"></a>6</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;However,&#x00A0;this&#x00A0;time,&#x00A0;the&#x00A0;call&#x00A0;only&#x00A0;gets&#x00A0;executed&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25008r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;when&#x00A0;the&#x00A0;floating&#x00A0;number&#x00A0;matches&#x00A0;a&#x00A0;certain&#x00A0;value&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25009r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;space.&#x00A0;<br /><span class="label"><a 
 id="x1-25010r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-25011r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if&#x00A0;{[expr&#x00A0;{round(0.5&#x00A0;*&#x00A0;(1&#x00A0;+&#x00A0;sqrt(5)))}]&#x00A0;==&#x00A0;[expr&#x00A0;round($inputFloat)]}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-25012r11"></a>11</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;next;#&#x00A0;invoke&#x00A0;on&#x00A0;remote&#x00A0;method&#x00A0;/&#x00A0;procedure&#x00A0;<br /><span class="label"><a 
 id="x1-25013r12"></a>12</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-25014r13"></a>13</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}

  </div>
                                                                       

                                                                       
<!--l. 455--><p class="noindent" >We draw your attention to the last argument of the <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xorb::stub::ProxyObject+instproc+ad_proc">::xorb::stub::ProxyObject&#x2192;
ad_proc</a> call which perfectly resembles the declaration of a method body. The exemplary condition
we introduce here is only to simplistic but delivers the message. You might have noticed that the
floating point number used in the EchoClient/ EchoService example corresponds to the decimal
representation of the golden ratio phi. We, now, in our proxy template method, introduce a
constraint which limits the value space accepted to all decimals that round to the same
integer as the most accurate decimal expansion of the golden ratio, given by the formula
(1 + <img 
src="manual/src/img/manual15x.png" alt="&#x221A; -
  5"  class="sqrt"  />)&#x2215;2
. If, and only if this value validation is passed, we want the abstract call to be invoked. At this point,
you might have realised that the <a href="http://media.wu-wien.ac.at/doc/tutorial.html#class_method_chaining">::xotcl::next</a> command is the forwarder to the actual proxy
method.
</p><!--l. 464--><p class="indent" >  Now, once you got the main idea behind this example, take a closer look at the declaration of
arguments in line 17. You might notice that there is a slight but important modification of
how the argument inputFloat is specified. In fact, we added an additional <a href="http://media.wu-wien.ac.at/doc/tutorial.html#non-pos-args">check option</a>
"glue" which is mandatory as soon as you provide a non-empty method body to either
<a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xorb::stub::ProxyObject+instproc+ad_proc">::xorb::stub::ProxyObject&#x2192;
ad_proc</a> and <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xorb::stub::ProxyClass+instproc+ad_instproc">::xorb::stub::ProxyClass&#x2192;
ad_instproc</a>. There are two reasons for this requirement: First, regarding concepts and clarity for
you as developer, you are now specifying two method records (i.e. set of arguments plus check
options) within one single step. On the one hand, the record for the decorating method (the proxy
template method) called "echoFloat" and, on the other hand, the actual proxy method "echoFloat".
We, therefore, distinguish between an inner and and outer record. Both records might be identical
but not necessarily. Second, regarding internals, it is required to explicitly distinguish between
elements of either record. Lets have a look at another variation of the previous example (see Listing
<a 
href="#x1-38120r5">5<!--tex4ht:ref: lst:quickstart:xosoap:6 --></a>): </p><!--l. 477--><div class="lstinputlisting">
<a 
 id="x1-25015"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-25016r1"></a>1</span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25017r2"></a>2</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-25018r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:xsFloat,glue&#x00A0;<br /><span class="label"><a 
 id="x1-25019r4"></a>4</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-nonpositionalArgument&#x00A0;<br /><span class="label"><a 
 id="x1-25020r5"></a>5</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;positionalArgument1&#x00A0;<br /><span class="label"><a 
 id="x1-25021r6"></a>6</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;positionalArgument2&#x00A0;<br /><span class="label"><a 
 id="x1-25022r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;}&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25023r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-25024r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25025r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint.&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25026r11"></a>11</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;However,&#x00A0;this&#x00A0;time,&#x00A0;the&#x00A0;call&#x00A0;only&#x00A0;gets&#x00A0;executed&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25027r12"></a>12</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;when&#x00A0;the&#x00A0;floating&#x00A0;number&#x00A0;matches&#x00A0;a&#x00A0;certain&#x00A0;value&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25028r13"></a>13</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;space.&#x00A0;<br /><span class="label"><a 
 id="x1-25029r14"></a>14</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-25030r15"></a>15</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ns_write&#x00A0;"Variables&#x00A0;in&#x00A0;this&#x00A0;scope:&#x00A0;[info&#x00A0;vars]\n"&#x00A0;<br /><span class="label"><a 
 id="x1-25031r16"></a>16</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if&#x00A0;{[expr&#x00A0;{round(0.5&#x00A0;*&#x00A0;(1&#x00A0;+&#x00A0;sqrt(5)))}]&#x00A0;==&#x00A0;[expr&#x00A0;round($inputFloat)]}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-25032r17"></a>17</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;next;#&#x00A0;invoke&#x00A0;on&#x00A0;remote&#x00A0;method&#x00A0;/&#x00A0;procedure&#x00A0;<br /><span class="label"><a 
 id="x1-25033r18"></a>18</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-25034r19"></a>19</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}

  </div>
<!--l. 479--><p class="noindent" >Referring to lines 3, we extended the method&#8217;s record by an additional <a href="http://media.wu-wien.ac.at/doc/tutorial.html#non-pos-args">non-positional argument</a> and
two positional ones. In fact, "annotating" a non-positional argument with "glue" assigns it to be
member in the proxy record, while all the others, especially the other non-positional arguments,
won&#8217;t be interpreted as elements of the proxy interface. At the same time, you will be able to use
equally named variables containing the arguments" values in the scope of the proxy template
method. The final call to the proxy object by means of the template method might take the following
form: </p><!--l. 486--><div class="lstinputlisting">
<a 
 id="x1-25035"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-25036r20"></a>20</span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25037r21"></a>21</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-nonpositionalArgument&#x00A0;"npValue"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25038r22"></a>22</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat&#x00A0;1.6180339887&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-25039r23"></a>23</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;"val1"&#x00A0;"val2"]

  </div>
<!--l. 488--><p class="noindent" >Apart from the constraint scenario, template methods also proof useful when you (for whatever
reason) want to deviate from the proxy interface (i.e. the inner record). This might true in the
following cases: </p>
                                                                       

                                                                       
     <ul class="itemize1">
     <li class="itemize">In case you need to mangle the argument values before being passed to the remote
     method, or
     </li>
     <li class="itemize">if  you  do  not  expose  all  arguments  stipulated  by  the  proxy  interface  (i.e.  the  inner
     record) in the outer record.</li></ul>
<!--l. 496--><p class="noindent" >In the following variation of an initial listing (see Listing <a 
href="#x1-38087r4">4<!--tex4ht:ref: lst:quickstart:xosoap:5 --></a>), we give provide an example for the first
case. Let" see: </p><!--l. 500--><div class="lstinputlisting">
<a 
 id="x1-25040"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-25041r1"></a>1</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-25042r2"></a>2</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ns_write&#x00A0;"Variables&#x00A0;in&#x00A0;this&#x00A0;scope:&#x00A0;[info&#x00A0;vars]\n"&#x00A0;<br /><span class="label"><a 
 id="x1-25043r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;set&#x00A0;inputFloat&#x00A0;[expr&#x00A0;"$inputFloat&#x00A0;+&#x00A0;1"]&#x00A0;<br /><span class="label"><a 
 id="x1-25044r4"></a>4</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;next&#x00A0;-inputFloat&#x00A0;$inputFloat;#&#x00A0;invoke&#x00A0;on&#x00A0;remote&#x00A0;method&#x00A0;/&#x00A0;procedure&#x00A0;<br /><span class="label"><a 
 id="x1-25045r5"></a>5</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}

  </div>
<!--l. 502--><p class="noindent" >Here, we simply take the inbound value for inputFloat and increase it by 1. This updated value should
then be passed to the remote method to be communicated to the call point. Two important aspects
should be retained from this snippet: First, if you do so, you have to explicitly append
argument-value pairs to <a href="http://media.wu-wien.ac.at/doc/tutorial.html#class_method_chaining">::xotcl::next</a>. Otherwise, <a href="http://media.wu-wien.ac.at/doc/tutorial.html#class_method_chaining">::xotcl::next</a>, if called without any appended terms,
passes on the last argument list on the call stack. Second, if you decide to do so, you have
to provide all arguments to <a href="http://media.wu-wien.ac.at/doc/tutorial.html#class_method_chaining">::xotcl::next</a> that are required by the method shadowed by
<a href="http://media.wu-wien.ac.at/doc/tutorial.html#class_method_chaining">::xotcl::next</a>. Required arguments are both non-positional arguments flagged "glue" or
"required" and positional arguments with no default values in the record declaration.
</p>
     <ul class="itemize1">
     <li class="itemize">We assume that your are familiar with the basic mechanism of inheritance XOTcl delivers to you. If you
     are new to XOTcl or its conceptual "sponsors" such as CLOS etc., you might want to consider studying the
     relevant sections.
     </li>
     <li class="itemize">You might want to give it a try. Just edit the last line of the example outlined above and change the value
     passed as "inputFloat" so that it once validates correctly and once fails.</li></ul>
<!--l. 519--><p class="noindent" >Using <a href="http://media.wu-wien.ac.at/doc/tutorial.html#class_method_chaining">::xotcl::next</a> in this setting is both a slight redefinition of its semantics in view of XOTcl
inheritance, and a pointer to the internal implementation of our proxy templates or proxy template
methods: The declarative information passed to ad_proc or ad_instproc is used both (a) to
specify a proxy method and register it with invocation infrastructure and (b) to create
a decorator to the actual proxy object in terms of a XOTcl mixin class. This decorator
hosts the method body as declared with <a href="http://media.wu-wien.ac.at/doc/tutorial.html#class_method_chaining">::xotcl::next</a> resolving to the shadowed proxy
method.
</p>
  <hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                       

                                                                       
<a 
 id="x1-25046r4"></a>
                                                                       

                                                                       
<div class="center" 
>
<!--l. 527--><p class="noindent" >

</p><!--l. 528--><p class="noindent" ><img 
src="manual/src/img/proxy-template-72.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;4: </td><td  
class="content">Call indirection as used for proxy templates</td></tr></table><!--tex4ht:label?: x1-25046r4 -->
</div>
                                                                       

                                                                       
  </td></tr></table></div><hr class="endfigure" />
<!--l. 534--><p class="indent" >  Figure <a 
href="#x1-25046r4">4<!--tex4ht:ref: fig:advanced:templates:1 --></a> aims at sketching the internals of proxy template methods and the behaviour shown
above. Again, we assume some familiarity with XOTcl concepts, especially mixins as XOTcl&#8217;s
realisation of abstract sub classes. The main messages from Figure <a 
href="#x1-25046r4">4<!--tex4ht:ref: fig:advanced:templates:1 --></a> are the following:
</p>
     <ul class="itemize1">
     <li class="itemize">Calls upon objects that mixin classes are registered with are indirected according to a
     certain order of precedence, visualised by the call path in Figure <a 
href="#x1-25046r4">4<!--tex4ht:ref: fig:advanced:templates:1 --></a>.
     </li>
     <li class="itemize">What  previously  has  been  referred  to  as  outer  interface  is  the  method  record  of
     echoFloat  defined  on  the  mixin  class  (i.e.  <span class="lstinline">::EchoClient::__indirector__</span>).  The  inner  record
     refers to the record declaration of echoFloat of EchoClient.
     </li>
     <li class="itemize">The  original  or  native  call  path  in  XOTcl  would  continue  along  the  inheritance  and
     realisation  (instantiation)  path,  involving  e.g.  <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::stub::ProxyObject">::xorb::stub::ProxyObject</a>  and  Object  in
     Figure <a 
href="#x1-25046r4">4<!--tex4ht:ref: fig:advanced:templates:1 --></a>. However, in the context of proxy templates, the call as such leads to the
     actual invocation of the abstract call.</li></ul>
     <ul class="itemize1">
     <li class="itemize">The subtle difference between inner (proxy) record and outer (template) record should be kept as important
     message from the previous section. It provides a powerful mechanism to the developer, however, might be
     a confusing way of mixing-up signatures at first glance.</li></ul>
  <h4 class="subsectionHead"><span class="titlemark">4.5  </span> <a 
href="#QQ2-1-53" id="x1-260004.5">Glue objects</a></h4>
<!--l. 552--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">4.5.1  </span> <a 
href="#QQ2-1-54" id="x1-270004.5.1">What is the idea of glue objects?</a></h5>
<!--l. 553--><p class="noindent" >Glue objects, as represented by all sub-classes of <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::stub::ContextObject">::xorb::stub::ContextObject</a>, are the xorb-specific
flavour of what is more commonly known as <span class="emph"><span class="underline">context objects</span></span> in language design. Context
objects, in short, represent a specific pattern of argument passing applicable to various
object-based language environments [<a href="#Xzdun:2005b">9</a>]. The technique comprises the use of a generic or
specifically typed object as single argument to operations with the actual arguments
being stored as per-object variables (or more commonly, instance variables). The use of
context objects has been suggested for a set of scenarios. These might be reflected
against the requirements and design decisions taken in xorb&#8217;s proxy interface (see Section
<a 
href="#x1-220004.2">4.2<!--tex4ht:ref: sec:interface --></a>).
</p><!--l. 555--><p class="indent" >  First, it allows to avoid the escalation of operation signatures which is a common risk when a
considerable amount of arguments needs to be passed. This is certainly given in the scope of xorb
and its protocol plug-ins, just to take <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::client::SoapGlueObject">::xosoap::client::SoapGlueObject</a> as an example. The list of
                                                                       

                                                                       
properties is, by the way, not taxonomic but rather open for further extensions provided that
this required due to a couple of reasons. The most prominent one is <span class="emph"><span class="underline">concatenation</span></span> of
protocol-specific shadow information, e.g. whenever a new transport handler (SMTP, JMS)
is added it might require new properties at the level of the most specific glue object.
Another source of an increased need of top-down configurability is the considerable level of
heterogeneity between remoting frameworks interacting. This heterogeneity ranges from
variation in (de-)marshaling styles, resolution mechanisms to fundamental modes of
interaction.
</p><!--l. 557--><p class="indent" >  Second, the quality of arguments, i.e. their varying structure, might be another source of
complexity that can be better abstracted from by means of context objects. This is somehow closely
related to aspect five outlined below.
</p><!--l. 559--><p class="indent" >  Third, the set of arguments to be passed might vary from invocation to invocation, a requirement
that is rather hard to serve by more conventional argument passing techniques in an elegant and
effective manner. The actual argument being an object or even a typed object, we might revert to
the given mechanisms of inheritance and polymorphism to model these variations more
appropriately.
</p><!--l. 561--><p class="indent" >  Fourth, escalated operations signatures are hard to maintain in generic framework designs,
where an arbitrary number and arbitrary kinds of clients manipulate these bits of information. This is
valid for the generic extension mechanisms that come with xorb, for instance the interceptor
infrastructure.
</p><!--l. 563--><p class="indent" >  Fifth, context objects allow to specify an interface or even an protocol for manipulating the stored
argument data. By interface, we refer to a set of accessors, for instance, a protocol, however, would
require more sophisticated features. Though this can be realised in various language settings, we
now concentrate on XOTcl. XOTcl comes with a specific kind of objects, so called <a href="http://media.wu-wien.ac.at/doc/tutorial.html#slots">slots</a>, that
generalise the idea of object properties or parameters (as known from other environments) and
introduce manager objects for object-level variables. Slots allow various fine-granular
interceptions to be executed upon manipulation of object states. This allows to enforce protocols
in terms of canonical naming, validation of value spaces etc. in a neat object-centric
manner.
</p><!--l. 565--><p class="indent" >  Context objects in the scope of remoting frameworks, in their role as <span class="emph"><span class="underline">invocation contexts</span></span>, are
thoroughly discussed and exemplified in [<a href="#Xzdun:2005">8</a>]. A more general sketch in the same direction but
applicable to a wider range of domains can be found in [<a href="#Xkelly:2003">5</a>].
</p><!--l. 567--><p class="indent" >  Context objects are also applied as solution to another design problem in xorb, namely the
provision of a generic infrastructure for data type handling across boundaries of protocol plug-ins
(see Section <a 
href="#x1-240004.3">4.3<!--tex4ht:ref: sec:avanced:types --></a>). This relates mainly to another flavour of the concept of context objects elaborated
on both by [<a href="#Xmaetzel:1996">6</a>, <a href="#Xsommerlad:1998">7</a>].
</p><!--l. 569--><p class="noindent" >
</p>
  <h5 class="subsubsectionHead"><span class="titlemark">4.5.2  </span> <a 
href="#QQ2-1-55" id="x1-280004.5.2">How to use scoping on glue objects for re-use?</a></h5>
<!--l. 570--><p class="noindent" >Against the basic notion of context objects (see Section <a 
href="#x1-270004.5.1">4.5.1<!--tex4ht:ref: sec:advanced:xorb:gobjects:what --></a>), <span class="emph"><span class="underline">glue objects</span></span>, the xorb-specific
flavour of context objects, have already been introduced in at least two notational forms in the quick
                                                                       

                                                                       
start guide (see <a 
href="#x1-170003.2">3.2<!--tex4ht:ref: sec:quickstart:xosoap --></a>) to the reader. There is, however, an advanced usage that can be applied to
glue objects that we refer to as <span class="emph"><span class="underline">scoping</span></span>. Behind the scenes, this feature is the result of a specific
order of precedence when resolving the glue object that, in turn, is used for further processing of a
call issued upon a client proxy. There are two dimensions of precedence, one regarding the <span class="emph"><span class="underline">moment
of resolution</span></span> (declaration or call time) and the <span class="emph"><span class="underline">scope of reach</span></span> of a glue object (see Figure <a 
href="#x1-28008r6">6<!--tex4ht:ref: fig:advanced:scoping:2 --></a>).
</p><hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                       

                                                                       
<a 
 id="x1-28001r5"></a>
                                                                       

                                                                       
<div class="center" 
>
<!--l. 572--><p class="noindent" >

</p><!--l. 573--><p class="noindent" ><img 
src="manual/src/img/scoping-glue-objects-structure-72.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;5: </td><td  
class="content">Precedence order for resolving glue objects</td></tr></table><!--tex4ht:label?: x1-28001r5 -->
</div>
                                                                       

                                                                       
  </td></tr></table></div><hr class="endfigure" />
<!--l. 578--><p class="indent" >  As shown in Figure <a 
href="#x1-28001r5">5<!--tex4ht:ref: fig:advanced:scoping:1 --></a>, upon issue of a call upon a client proxy (EchoClient), the
<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xorb::stub::Requestor">::xorb::stub::Requestor</a> follows a three-level precedence:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-28003x1">The glue object reference passed to the non-positional argument "glueobject" on either
     <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+glue">::xotcl::Object&#x2192;
     glue</a>, <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+ad_glue">::xotcl::Object&#x2192;
     ad_glue</a>, <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xorb::stub::ProxyObject+instproc+ad_proc">::xorb::stub::ProxyObject&#x2192;
     ad_proc</a> and <a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xorb::ProxyClass+instproc+ad_instproc">::xorb::ProxyClass&#x2192;
     ad_instproc</a> take the highest precedence. This order of precedence is enforced upon
     declaration time, i.e. the reference is compiled into the body of the proxy method. This
     level of specifying a glue object allows to realise client proxies as mere collections of
     remote procedure proxies (and not proxies in the OO sense).
     </li>
     <li 
  class="enumerate" id="x1-28005x2">As can be learnt from Figure <a 
href="#x1-28001r5">5<!--tex4ht:ref: fig:advanced:scoping:1 --></a> and introduced in Listing <a 
href="#x1-38026r2">2<!--tex4ht:ref: lst:quickstart:xosoap:3 --></a>, the role of client proxy
     and glue object are unified in a set of objects, namely <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::client::SoapObject">::xosoap::client::SoapObject</a> or
     <a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xosoap::client::SoapClass">::xosoap::client::SoapClass</a>. If the requestor identifies a proxy object of this kind, it will
     be granted second highest precedence. We refer to this level as the per-object scope
     (see Figure <a 
href="#x1-28008r6">6<!--tex4ht:ref: fig:advanced:scoping:2 --></a>). As for the scope, it is applicable to all proxy methods defined on the
     client proxy.
     </li>
     <li 
  class="enumerate" id="x1-28007x3">In  Listing  ??  we  can  find  that  there  is  also  a  property  "glueobject"  available  for  all
     objects of type ::xotcl::Object. This property, or rather the glue object assigned to it,
     takes the lowest precedence in the resolution order. Comparable to level 2, it applies
     to all proxy methods defined, however, as the glue object is a distinct entity from the
     client proxy, it is potentially re-usable for various client proxies. Therefore, we refer to
     the level of precedence as the shared scope (see Figure <a 
href="#x1-28008r6">6<!--tex4ht:ref: fig:advanced:scoping:2 --></a>).</li></ol>
<hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x1-28008r6"></a>
<div class="center" 
>
<!--l. 585--><p class="noindent" >

</p><!--l. 586--><p class="noindent" ><img 
src="manual/src/img/scoping-glue-objects-scheme-72.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;6: </td><td  
class="content">Dimensions of precedence: resolution time &amp; scope of reach.</td></tr></table><!--tex4ht:label?: x1-28008r6 -->
</div>
  </td></tr></table></div><hr class="endfigure" />
<!--l. 591--><p class="indent" >  A comparison of these three configurations yields some insights on (dis-)advantages and
provides some hands-on usage examples. Using both the per-method and per-object/
shared scope within a single proxy object allows to implement more than just one interface
through a single proxy object. However, this decision needs to be taken upon declaration
time as this is a limitation of the current per-method scoping. Also, we so provide the
means to specify both proxies for remote methods (in the strict OO sense) and remote
                                                                       

                                                                       
procedures in a single entity. Let&#8217;s look at a slight modification of Listing <a 
href="#x1-38026r2">2<!--tex4ht:ref: lst:quickstart:xosoap:3 --></a> that aims
at illustrating this first configuration. In a first step, we add a second glue object which
contains a different set of configurations options, in particular it targets a different endpoint:
</p><!--l. 594--><div class="lstinputlisting">
<a 
 id="x1-28009"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-28010r1"></a>1</span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-28011r2"></a>2</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://dietrich.ganx4.com/nusoap/testbed/round2_base_server.php"\&#x00A0;<br /><span class="label"><a 
 id="x1-28012r3"></a>3</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]

  </div>
<!--l. 596--><p class="noindent" >Note, EchoClient as declared in Listing <a 
href="#x1-38026r2">2<!--tex4ht:ref: lst:quickstart:xosoap:3 --></a> already contains shadow information of a glue object. If we
now pass the second glue object defined to the ad_proc declaration, this second glue object takes
precedence over the first one, i.e. EchoClient itself. </p><!--l. 598--><div class="lstinputlisting">
<a 
 id="x1-28013"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-28014r4"></a>4</span>EchoClient&#x00A0;ad_proc&#x00A0;-glueobject&#x00A0;$glueObject&#x00A0;-returns&#x00A0;xsFloat\&#x00A0;<br /><span class="label"><a 
 id="x1-28015r5"></a>5</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-28016r6"></a>6</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:xsFloat&#x00A0;<br /><span class="label"><a 
 id="x1-28017r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-28018r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-28019r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-28020r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{}

  </div>
<!--l. 600--><p class="noindent" >The ultimate result of this minor tweak in Listing <a 
href="#x1-38205r6">6<!--tex4ht:ref: lst:quickstart:xosoap:8 --></a> is that the call will be delivered to a remote object
that listens at a different endpoint than the one in Listing <a 
href="#x1-38026r2">2<!--tex4ht:ref: lst:quickstart:xosoap:3 --></a>.
<br class="newline" />
<br class="newline" />Both, per-object and shared scope, allow for more simplified notations of proxy objects. As for
re-use, the per-object scope is primarily centred around the re-use of the proxy interface as
represented by the proxy object while continuously, over the program flow, adapting the
configuration in terms of glue object manipulations. The shared scope puts emphasis
on the re-use of a given glue object on multiple proxy objects. Moreover, it allows for
dynamic, non-hierarchical refinements through <a href="http://media.wu-wien.ac.at/doc/tutorial.html#mixins">mixins</a>. In doing so, we gain the opportunity
can inject glue objects for a selected period of time upon certain conditions into client
proxies.
</p><!--l. 603--><p class="indent" >  Again, to provide a hands-on experience, let&#8217;s have a look at Listing <a 
href="#x1-38239r7">7<!--tex4ht:ref: lst:quickstart:xosoap:9 --></a>. In fact, we
try to achieve the same behaviour as realised in Listing <a 
href="#x1-38205r6">6<!--tex4ht:ref: lst:quickstart:xosoap:8 --></a> but by completely different
means. This time we want to decorate our previously defined client proxy at an arbitrary
moment during run time. For this purpose, we need an appropriate decorator, such as:
</p><!--l. 605--><div class="lstinputlisting">
<a 
 id="x1-28021"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-28022r11"></a>11</span>::xotcl::Class&#x00A0;ProxyDecorator&#x00A0;<br /><span class="label"><a 
 id="x1-28023r12"></a>12</span>SoapGlueObject&#x00A0;ProxyDecorator::GlueObject&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-28024r13"></a>13</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://dietrich.ganx4.com/nusoap/testbed/round2_base_server.php"\&#x00A0;<br /><span class="label"><a 
 id="x1-28025r14"></a>14</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded&#x00A0;<br /><span class="label"><a 
 id="x1-28026r15"></a>15</span>ProxyDecorator&#x00A0;instproc&#x00A0;glueobject&#x00A0;args&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-28027r16"></a>16</span>&#x00A0;&#x00A0;return&#x00A0;[self&#x00A0;class]::GlueObject&#x00A0;<br /><span class="label"><a 
 id="x1-28028r17"></a>17</span>}

  </div>
<!--l. 607--><p class="noindent" >The decorator, an XOTcl mixin class, can be realised in manifold ways, the above is only
one of a couple of options at hand. The main idea, however, is that a new glue object
(ProxyDecorator::GlueObject) is return upon calls to the decorator&#8217;s "glueobject" method. The actual
step of decorating the client proxy might take the following form: </p><!--l. 609--><div class="lstinputlisting">
<a 
 id="x1-28029"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-28030r18"></a>18</span>EchoClient&#x00A0;mixin&#x00A0;add&#x00A0;::template::ProxyDecorator




  </div>
<!--l. 611--><p class="noindent" >Once this is achieved, calls to the accessor "glueobject" of the equally named attribute won&#8217;t deliver
the original glue object, but the decorator&#8217;s one. This is due to the basic mixin mechanism provided
by XOTcl with the decorator&#8217;s "glueobject" method shadowing the actual accessor called
"glueobject". After the successful decoration, the call, again, is delivered to the endpoint stipulated
in the second glue object.
</p><!--l. 614--><p class="indent" >  We want to remind the reader at this point that the above classification somehow need to be
considered oversimplifying. The main reason is the distinctions and elaborations are based on
constructs that were defined, as an explicit design decision, as public interface (see Section <a 
href="#x1-220004.2">4.2<!--tex4ht:ref: sec:interface --></a>).
However, as many features are built upon generic XOTcl mechanisms, the same statements and
considerations are equally valid for other entities or interface levels: Any object of type
<a href="http://openacs-dotlrn.wu-wien.ac.at/xotcl/show-object?object=::xotcl::Object">::xotcl::Object</a> may be associated with a glue object and can hold proxy methods through
<a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+glue">::xotcl::Object&#x2192;
glue</a>/<a href="http://openacs-dotlrn.wu-wien.ac.at/api-doc/proc-view?proc=::xotcl::Object+instproc+ad_glue">::xotcl::Object&#x2192;
ad_glue</a>, each of them being able to reference a distinct glue object. Therefore, the account
given above applies to more than the scenarios outlined in the scope of this introductory
section.
</p><!--l. 616--><p class="indent" >  Besides, the current implementation comes with a couple of minor that might not be obvious to
the developer. In particular, we do not distinguish between per-object or per-instance scopes. That
is, a glue object specified on a class object will be valid for both its instances&#8217; and its own
scope.
</p>
  <h3 class="sectionHead"><span class="titlemark">5  </span> <a 
href="#QQ2-1-62" id="x1-290005">Internals</a></h3>
<!--l. 618--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">5.1  </span> <a 
href="#QQ2-1-63" id="x1-300005.1">What are "service contracts"?</a></h4>
<!--l. 619--><p class="noindent" ><span class="emph"><span class="underline">Service contracts</span></span>, as implemented by the acs-service-contract package of the OpenACS core,
introduces <span class="emph"><span class="underline">call abstraction</span></span>, a concept with as many dimensions as actual areas of usage, to
OpenACS as framework. The idea is not to reproduce existing documentation on service contracts,
but to generalise the problem tackled by contracts. Service contracts aim at providing some sort of
re-usability and a generic extension mechanism at the framework level. Call abstraction is a generic
concept that can be found at the level of programming languages (of various flavours, OO and
non-OO, functional etc.) and as infrastructure facilities in frameworks of various kind. The general
motivation for call abstraction is a twofold: First, we want to assemble complex code blocks (i.e. a
proc, involving sequences of calls to other code blocks) at design time (i.e. the time we
conceptualise and write our program). Second, however, we do not want to specify a
concrete addressee of some calls in our code block at run time. Call abstraction might be
referred to as <span class="emph"><span class="underline">identity transparency</span></span> which simply means the actual addressees or callees
                                                                       

                                                                       
are not determined at design time! The simple motivation for these two requirements
is that we want to allow varying behaviour within a more generally designed picture.
Varying behaviour should be able to be introduced in a pre-defined and standardised
manner. Let&#8217;s take an example, taken from the OO-verse of XOTcl which gives a nice show
case example, easier graspable than a general description of service contracts as such.
</p><!--l. 622--><div class="lstinputlisting">
<a 
 id="x1-30001"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-30002r1"></a>1</span>#&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;<br /><span class="label"><a 
 id="x1-30003r2"></a>2</span>#&#x00A0;t0:&#x00A0;introduce&#x00A0;generic,&#x00A0;<br /><span class="label"><a 
 id="x1-30004r3"></a>3</span>#&#x00A0;extensible&#x00A0;framework&#x00A0;feature&#x00A0;<br /><span class="label"><a 
 id="x1-30005r4"></a>4</span>::xotcl::Object&#x00A0;Indexer&#x00A0;<br /><span class="label"><a 
 id="x1-30006r5"></a>5</span>Indexer&#x00A0;proc&#x00A0;index&#x00A0;{}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-30007r6"></a>6</span>&#x00A0;&#x00A0;foreach&#x00A0;instance&#x00A0;[Indexable&#x00A0;allinstances]&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-30008r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;puts&#x00A0;[$instance&#x00A0;getContent]&#x00A0;<br /><span class="label"><a 
 id="x1-30009r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;dump&#x00A0;the&#x00A0;&#8217;content&#8217;&#x00A0;into&#x00A0;the&#x00A0;full-text&#x00A0;index&#x00A0;<br /><span class="label"><a 
 id="x1-30010r9"></a>9</span>&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-30011r10"></a>10</span>}

  </div>
<!--l. 624--><p class="noindent" >Imagine, you set out to provide an full-text search in your application. In OpenACS, you might think of
the "search" package as a direct example. An important role in this infrastructure module is played
by an indexer that either on-demand or at regular intervals triggers the indexation of new text items.
The indexer is represented by an XOTcl object "Indexer" that offers a method "index" responsible for
the actual indexing walk-through. The fundamental design problem now is how to provide
for the possibility to add new kinds of indexable items at an arbitrary point in time after
the design and implementation of the indexer as such. To make it short, how to provide
extensibility to the indexer? Key to an appropriate solution is the definition of a generic interface
which needs to implemented by all indexable items that might be added in the future.
</p><!--l. 626--><div class="lstinputlisting">
<a 
 id="x1-30012"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-30013r11"></a>11</span>Class&#x00A0;Indexable&#x00A0;<br /><span class="label"><a 
 id="x1-30014r12"></a>12</span>Indexable&#x00A0;abstract&#x00A0;instproc&#x00A0;getContent&#x00A0;{}

  </div>
<!--l. 628--><p class="noindent" >This "caller interface", represented by the XOTcl class "Indexable" shown above, stipulates an abstract
call "getContent" that needs to be resolved to a concrete call at runtime. Resolving means, in an OO
setting, that implementing sub-classes of Indexable come with a non-abstract method "getContent".
At t<sub>0</sub>
, i.e. design and implementation time of the infrastructure module, the per-object method "index"
therefore exclusively refers to an abstract call "getContent". This is also known as template method,
a prominent design pattern documented by [<a href="#Xgof:1994">4</a>]. </p><!--l. 630--><div class="lstinputlisting">
<a 
 id="x1-30015"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-30016r13"></a>13</span>Class&#x00A0;ForumEntry&#x00A0;-superclass&#x00A0;Indexable&#x00A0;<br /><span class="label"><a 
 id="x1-30017r14"></a>14</span>ForumEntry&#x00A0;instproc&#x00A0;render&#x00A0;{}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-30018r15"></a>15</span>&#x00A0;&#x00A0;#&#x00A0;return&#x00A0;markup&#8217;ed&#x00A0;content&#x00A0;<br /><span class="label"><a 
 id="x1-30019r16"></a>16</span>&#x00A0;&#x00A0;return&#x00A0;[self]([my&#x00A0;info&#x00A0;class])&#x00A0;<br /><span class="label"><a 
 id="x1-30020r17"></a>17</span>}&#x00A0;<br /><span class="label"><a 
 id="x1-30021r18"></a>18</span>&#x00A0;<br /><span class="label"><a 
 id="x1-30022r19"></a>19</span>ForumEntry&#x00A0;instproc&#x00A0;getContent&#x00A0;{}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-30023r20"></a>20</span>&#x00A0;&#x00A0;return&#x00A0;[my&#x00A0;render]&#x00A0;<br /><span class="label"><a 
 id="x1-30024r21"></a>21</span>}

  </div>
<!--l. 632--><p class="noindent" >As can be seen from the above snippet, by implementing "Indexable" and providing a concrete method
"getContent" forum entries will be indexed upon future runs of the indexer, i.e. calls to "index".
Registration, in our example, is realised by establishing a sub class relationship to Indexable. If, at
t<sub>1</sub>
, wiki pages should be also be included in the full-text index, another specialised sub class of
Indexable is needed: </p><!--l. 634--><div class="lstinputlisting">
<a 
 id="x1-30025"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-30026r22"></a>22</span>Class&#x00A0;XowikiPage&#x00A0;-superclass&#x00A0;Indexable&#x00A0;<br /><span class="label"><a 
 id="x1-30027r23"></a>23</span>XowikiPage&#x00A0;instproc&#x00A0;render&#x00A0;{}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-30028r24"></a>24</span>&#x00A0;&#x00A0;#&#x00A0;return&#x00A0;markup&#8217;ed&#x00A0;content&#x00A0;<br /><span class="label"><a 
 id="x1-30029r25"></a>25</span>&#x00A0;&#x00A0;return&#x00A0;[self]([my&#x00A0;info&#x00A0;class])&#x00A0;<br /><span class="label"><a 
 id="x1-30030r26"></a>26</span>}&#x00A0;<br /><span class="label"><a 
 id="x1-30031r27"></a>27</span>XowikiPage&#x00A0;instproc&#x00A0;getContent&#x00A0;{}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-30032r28"></a>28</span>&#x00A0;&#x00A0;return&#x00A0;[my&#x00A0;render]&#x00A0;<br /><span class="label"><a 
 id="x1-30033r29"></a>29</span>}




  </div>
<!--l. 636--><p class="noindent" >This is a simple sketch of what extensibility is in this reading. Note, call abstractions in various
settings come with different connotations (i.e. semantics), but they share basic ideas.
Coming back to "service contracts" that realise call abstractions at a non-OO framework
level, you might think of "service contracts" as abstract classes such as Indexable in the
above example and of "service implementations" as registrars, represented by creating a
sub class of Indexable. A more generic picture of call abstraction is given by Figure <a 
href="#x1-30034r7">7<!--tex4ht:ref: fig:advanced:ca:1 --></a>:
</p><hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x1-30034r7"></a><a 
 id="x1-38001r1"></a><a 
 id="x1-38026r2"></a><a 
 id="x1-38054r3"></a><a 
 id="x1-38087r4"></a><a 
 id="x1-38120r5"></a><a 
 id="x1-38205r6"></a><a 
 id="x1-38239r7"></a>
<div class="center" 
>
<!--l. 638--><p class="noindent" >

</p><!--l. 639--><p class="noindent" ><img 
src="manual/src/img/call-abstraction-scheme-72.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;7: </td><td  
class="content">Call abstraction</td></tr></table><!--tex4ht:label?: x1-30034r7 -->
</div>
  </td></tr></table></div><hr class="endfigure" />
<!--l. 644--><p class="indent" >  The XOTcl example (and OpenACS service contracts) would translate into the following
roles shown by the schematic outline: The class Indexable (a service contract such as
FtsContentProvider) stipulates takes the role of <span class="emph"><span class="underline">interface (descriptions)</span></span>. In this role, they have two
responsibilites, first interfacing to the caller (caller interface) and interfacing to the callee (callee
interface). The caller is an arbitrary code block that issues the index call on objects of type
Indexable. The callee, or servant, is the concrete getContent method of any sub class derived from
class Indexable (e.g. XowikiPage, or, the service implementation content_revision). The proxy role is
taken by the getContent method defined on Indexable and declared abstract (in OACS service
contracts, these are operations defined on contracts).
</p><!--l. 646--><p class="indent" >  A final clarification is needed at this point: What has become known as "remote procedure calls"
(RPC) or "remote method invocations" (RMI) is the basic idea of call abstraction, but identity
transparency is accompanied by <span class="emph"><span class="underline">location transparency</span></span>.
</p><!--l. 650--><p class="noindent" >
</p>
  <h3 class="sectionHead"><span class="titlemark">6  </span> <a 
href="#QQ2-1-69" id="x1-310006">Feature sets</a></h3>
<!--l. 651--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">6.1  </span> <a 
href="#QQ2-1-70" id="x1-320006.1">xorb</a></h4>
                                                                       

                                                                       
<!--l. 652--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">6.2  </span> <a 
href="#QQ2-1-71" id="x1-330006.2">xosoap</a></h4>
<!--l. 653--><p class="noindent" >
</p>
  <h3 class="sectionHead"><span class="titlemark">7  </span> <a 
href="#QQ2-1-72" id="x1-340007">Roadmap</a></h3>
<!--l. 654--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">7.1  </span> <a 
href="#QQ2-1-73" id="x1-350007.1">xorb</a></h4>
<!--l. 655--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">7.2  </span> <a 
href="#QQ2-1-74" id="x1-360007.2">xosoap</a></h4>
<!--l. 656--><p class="noindent" >
</p>
  <h3 class="sectionHead"><span class="titlemark">8  </span> <a 
href="#QQ2-1-75" id="x1-370008">Appendix</a></h3>
<!--l. 657--><p class="noindent" >
</p>
  <h4 class="subsectionHead"><span class="titlemark">8.1  </span> <a 
href="#QQ2-1-76" id="x1-380008.1">Examples - xosoap</a></h4>
  <!--l. 659--><div class="lstinputlisting">
<a 
 id="x1-38002"></a>



<br />
<table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Listing&#x00A0;1:
</td><td  
class="content">A
simple
SOAP
client</td></tr></table><!--tex4ht:label?: x1-38001r8 -->&#x00A0;<br /><span class="label"><a 
 id="x1-38003r1"></a>1</span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38004r2"></a>2</span>namespace&#x00A0;import&#x00A0;::xosoap::client::*&#x00A0;<br /><span class="label"><a 
 id="x1-38005r3"></a>3</span>namespace&#x00A0;import&#x00A0;::xorb::stub::*&#x00A0;<br /><span class="label"><a 
 id="x1-38006r4"></a>4</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38007r5"></a>5</span>#&#x00A0;1-)&#x00A0;create&#x00A0;and&#x00A0;populate&#x00A0;a&#x00A0;&#8217;glue&#8217;&#x00A0;object&#x00A0;<br /><span class="label"><a 
 id="x1-38008r6"></a>6</span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38009r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"\&#x00A0;<br /><span class="label"><a 
 id="x1-38010r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38011r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38012r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]&#x00A0;<br /><span class="label"><a 
 id="x1-38013r11"></a>11</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38014r12"></a>12</span>#&#x00A0;2-)&#x00A0;create&#x00A0;a&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38015r13"></a>13</span>ProxyObject&#x00A0;EchoClient&#x00A0;-glueobject&#x00A0;$glueObject&#x00A0;<br /><span class="label"><a 
 id="x1-38016r14"></a>14</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38017r15"></a>15</span>#&#x00A0;3-)&#x00A0;create&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38018r16"></a>16</span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38019r17"></a>17</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{-inputFloat:xsFloat}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38020r18"></a>18</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38021r19"></a>19</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-38022r20"></a>20</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{}&#x00A0;<br /><span class="label"><a 
 id="x1-38023r21"></a>21</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38024r22"></a>22</span>#&#x00A0;4-)&#x00A0;issue&#x00A0;the&#x00A0;call&#x00A0;<br /><span class="label"><a 
 id="x1-38025r23"></a>23</span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.6180339887]

  </div>
<!--l. 661--><div class="lstinputlisting">
<a 
 id="x1-38027"></a>
<br />
<table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Listing&#x00A0;2:
</td><td  
class="content">An
even
simpler
SOAP
client</td></tr></table><!--tex4ht:label?: x1-38026r8 -->&#x00A0;<br /><span class="label"><a 
 id="x1-38028r1"></a>1</span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38029r2"></a>2</span>namespace&#x00A0;import&#x00A0;::xosoap::client::*&#x00A0;<br /><span class="label"><a 
 id="x1-38030r3"></a>3</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38031r4"></a>4</span>#&#x00A0;1-)&#x00A0;create&#x00A0;a&#x00A0;combined&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;+&#x00A0;&#8217;glue&#8217;&#x00A0;object&#x00A0;<br /><span class="label"><a 
 id="x1-38032r5"></a>5</span>SoapObject&#x00A0;EchoClient\&#x00A0;<br /><span class="label"><a 
 id="x1-38033r6"></a>6</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"\&#x00A0;<br /><span class="label"><a 
 id="x1-38034r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38035r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38036r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded&#x00A0;<br /><span class="label"><a 
 id="x1-38037r10"></a>10</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38038r11"></a>11</span>#&#x00A0;2-)&#x00A0;create&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38039r12"></a>12</span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat\&#x00A0;<br /><span class="label"><a 
 id="x1-38040r13"></a>13</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38041r14"></a>14</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:xsFloat&#x00A0;<br /><span class="label"><a 
 id="x1-38042r15"></a>15</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38043r16"></a>16</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38044r17"></a>17</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-38045r18"></a>18</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{}&#x00A0;<br /><span class="label"><a 
 id="x1-38046r19"></a>19</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38047r20"></a>20</span>#&#x00A0;3-)&#x00A0;issue&#x00A0;the&#x00A0;call&#x00A0;<br /><span class="label"><a 
 id="x1-38048r21"></a>21</span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.61805]

  </div>
<!--l. 662--><div class="lstinputlisting">
<a 
 id="x1-38055"></a>
<br />
<table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Listing&#x00A0;3:
</td><td  
class="content">An
XOTcl
Object
as
SOAP
client</td></tr></table><!--tex4ht:label?: x1-38054r8 -->&#x00A0;<br /><span class="label"><a 
 id="x1-38056r1"></a>1</span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38057r2"></a>2</span>namespace&#x00A0;import&#x00A0;::xorb::stub::*&#x00A0;<br /><span class="label"><a 
 id="x1-38058r3"></a>3</span>namespace&#x00A0;import&#x00A0;::xosoap::client::*&#x00A0;<br /><span class="label"><a 
 id="x1-38059r4"></a>4</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38060r5"></a>5</span>#&#x00A0;1-)&#x00A0;create&#x00A0;a&#x00A0;&#8217;glue&#8217;&#x00A0;object&#x00A0;<br /><span class="label"><a 
 id="x1-38061r6"></a>6</span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38062r7"></a>7</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38063r8"></a>8</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38064r9"></a>9</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38065r10"></a>10</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]&#x00A0;<br /><span class="label"><a 
 id="x1-38066r11"></a>11</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38067r12"></a>12</span>#&#x00A0;2-)&#x00A0;create&#x00A0;an&#x00A0;ordinary&#x00A0;XOTcl&#x00A0;object&#x00A0;and&#x00A0;turn&#x00A0;it&#x00A0;into&#x00A0;a&#x00A0;proxy&#x00A0;client&#x00A0;<br /><span class="label"><a 
 id="x1-38068r13"></a>13</span>::xotcl::Object&#x00A0;EchoClient&#x00A0;-glueobject&#x00A0;$glueObject&#x00A0;<br /><span class="label"><a 
 id="x1-38069r14"></a>14</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38070r15"></a>15</span>#&#x00A0;3-)&#x00A0;create&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;using&#x00A0;ad_glue&#x00A0;keyword&#x00A0;<br /><span class="label"><a 
 id="x1-38071r16"></a>16</span>#&#x00A0;Note&#x00A0;the&#x00A0;structure&#x00A0;of&#x00A0;the&#x00A0;declarative&#x00A0;call,&#x00A0;it&#x00A0;does&#x00A0;not&#x00A0;take&#x00A0;a&#x00A0;method&#x00A0;body!&#x00A0;<br /><span class="label"><a 
 id="x1-38072r17"></a>17</span>EchoClient&#x00A0;ad_glue&#x00A0;-returns&#x00A0;xsFloat\&#x00A0;<br /><span class="label"><a 
 id="x1-38073r18"></a>18</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;proc&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38074r19"></a>19</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:xsFloat,glue&#x00A0;<br /><span class="label"><a 
 id="x1-38075r20"></a>20</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38076r21"></a>21</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38077r22"></a>22</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-38078r23"></a>23</span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38079r24"></a>24</span>&#x00A0;<br /><span class="label"><a 
 id="x1-38080r25"></a>25</span>#&#x00A0;3-)&#x00A0;issue&#x00A0;the&#x00A0;call&#x00A0;<br /><span class="label"><a 
 id="x1-38081r26"></a>26</span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.61805]

  </div>
<!--l. 663--><div class="lstinputlisting">
<a 
 id="x1-38088"></a>
<br />
<table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Listing&#x00A0;4:
</td><td  
class="content">Using
proxy
templates/
template
methods
(I)</td></tr></table><!--tex4ht:label?: x1-38087r8 -->&#x00A0;<br /><span class="label"><a 
 id="x1-38089r1"></a></span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38090r2"></a></span>namespace&#x00A0;import&#x00A0;::xosoap::client::*&#x00A0;<br /><span class="label"><a 
 id="x1-38091r3"></a></span>namespace&#x00A0;import&#x00A0;::xorb::stub::*&#x00A0;<br /><span class="label"><a 
 id="x1-38092r4"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38093r5"></a></span>#&#x00A0;1-)&#x00A0;create&#x00A0;and&#x00A0;populate&#x00A0;a&#x00A0;&#8217;glue&#8217;&#x00A0;object&#x00A0;<br /><span class="label"><a 
 id="x1-38094r6"></a></span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38095r7"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"\&#x00A0;<br /><span class="label"><a 
 id="x1-38096r8"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38097r9"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38098r10"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]&#x00A0;<br /><span class="label"><a 
 id="x1-38099r11"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38100r12"></a></span>#&#x00A0;2-)&#x00A0;create&#x00A0;a&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38101r13"></a></span>ProxyObject&#x00A0;EchoClient&#x00A0;-glueobject&#x00A0;$glueObject&#x00A0;<br /><span class="label"><a 
 id="x1-38102r14"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38103r15"></a></span>#&#x00A0;3-)&#x00A0;create&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38104r16"></a></span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38105r17"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{-inputFloat:xsFloat,glue}&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38106r18"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38107r19"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38108r20"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint.&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38109r21"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;However,&#x00A0;this&#x00A0;time,&#x00A0;the&#x00A0;call&#x00A0;only&#x00A0;gets&#x00A0;executed&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38110r22"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;when&#x00A0;the&#x00A0;floating&#x00A0;number&#x00A0;matches&#x00A0;a&#x00A0;certain&#x00A0;value&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38111r23"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;space.&#x00A0;<br /><span class="label"><a 
 id="x1-38112r24"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38113r25"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if&#x00A0;{[expr&#x00A0;{round(0.5&#x00A0;*&#x00A0;(1&#x00A0;+&#x00A0;sqrt(5)))}]&#x00A0;==&#x00A0;[expr&#x00A0;round($inputFloat)]}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38114r26"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;next;#&#x00A0;invoke&#x00A0;on&#x00A0;remote&#x00A0;method&#x00A0;/&#x00A0;procedure&#x00A0;<br /><span class="label"><a 
 id="x1-38115r27"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38116r28"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38117r29"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38118r30"></a></span>#&#x00A0;4-)&#x00A0;issue&#x00A0;the&#x00A0;call&#x00A0;<br /><span class="label"><a 
 id="x1-38119r31"></a></span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.6180339887]

  </div>
<!--l. 664--><div class="lstinputlisting">



<a 
 id="x1-38120r5"></a>
<a 
 id="x1-38121"></a>
<br />
<table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Listing&#x00A0;5:
</td><td  
class="content">Using
proxy
templates/
template
methods
(II)</td></tr></table><!--tex4ht:label?: x1-38120r8 -->&#x00A0;<br /><span class="label"><a 
 id="x1-38122r1"></a></span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38123r2"></a></span>namespace&#x00A0;import&#x00A0;::xosoap::client::*&#x00A0;<br /><span class="label"><a 
 id="x1-38124r3"></a></span>namespace&#x00A0;import&#x00A0;::xorb::stub::*&#x00A0;<br /><span class="label"><a 
 id="x1-38125r4"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38126r5"></a></span>#&#x00A0;1-)&#x00A0;create&#x00A0;and&#x00A0;populate&#x00A0;a&#x00A0;&#8217;glue&#8217;&#x00A0;object&#x00A0;<br /><span class="label"><a 
 id="x1-38127r6"></a></span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38128r7"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"\&#x00A0;<br /><span class="label"><a 
 id="x1-38129r8"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38130r9"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38131r10"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]&#x00A0;<br /><span class="label"><a 
 id="x1-38132r11"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38133r12"></a></span>#&#x00A0;2-)&#x00A0;create&#x00A0;a&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38134r13"></a></span>ProxyObject&#x00A0;EchoClient&#x00A0;-glueobject&#x00A0;$glueObject&#x00A0;<br /><span class="label"><a 
 id="x1-38135r14"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38136r15"></a></span>#&#x00A0;3-)&#x00A0;create&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38137r16"></a></span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38138r17"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38139r18"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:xsFloat,glue&#x00A0;<br /><span class="label"><a 
 id="x1-38140r19"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-nonpositionalArgument&#x00A0;<br /><span class="label"><a 
 id="x1-38141r20"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;positionalArgument1&#x00A0;<br /><span class="label"><a 
 id="x1-38142r21"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;positionalArgument2&#x00A0;<br /><span class="label"><a 
 id="x1-38143r22"></a></span>&#x00A0;&#x00A0;&#x00A0;}&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38144r23"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38145r24"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38146r25"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint.&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38147r26"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;However,&#x00A0;this&#x00A0;time,&#x00A0;the&#x00A0;call&#x00A0;only&#x00A0;gets&#x00A0;executed&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38148r27"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;when&#x00A0;the&#x00A0;floating&#x00A0;number&#x00A0;matches&#x00A0;a&#x00A0;certain&#x00A0;value&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38149r28"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;space.&#x00A0;<br /><span class="label"><a 
 id="x1-38150r29"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38151r30"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ns_write&#x00A0;"Variables&#x00A0;in&#x00A0;this&#x00A0;scope:&#x00A0;[info&#x00A0;vars]\n"&#x00A0;<br /><span class="label"><a 
 id="x1-38152r31"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if&#x00A0;{[expr&#x00A0;{round(0.5&#x00A0;*&#x00A0;(1&#x00A0;+&#x00A0;sqrt(5)))}]&#x00A0;==&#x00A0;[expr&#x00A0;round($inputFloat)]}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38153r32"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;next;#&#x00A0;invoke&#x00A0;on&#x00A0;remote&#x00A0;method&#x00A0;/&#x00A0;procedure&#x00A0;<br /><span class="label"><a 
 id="x1-38154r33"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38155r34"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38156r35"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38157r36"></a></span>#&#x00A0;4-)&#x00A0;issue&#x00A0;the&#x00A0;call&#x00A0;<br /><span class="label"><a 
 id="x1-38158r37"></a></span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38159r38"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-nonpositionalArgument&#x00A0;"npValue"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38160r39"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat&#x00A0;1.6180339887&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38161r40"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;"val1"&#x00A0;"val2"]

  </div>
<!--l. 666--><div class="lstinputlisting">
<a 
 id="x1-38162"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-38163r1"></a></span>#&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;<br /><span class="label"><a 
 id="x1-38164r2"></a></span>#&#x00A0;$Id:&#x00A0;example-07-soap-provider-init.tcl&#x00A0;73&#x00A0;2007-08-26&#x00A0;14:01:55Z&#x00A0;ssoberni&#x00A0;$&#x00A0;<br /><span class="label"><a 
 id="x1-38165r3"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38166r4"></a></span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38167r5"></a></span>namespace&#x00A0;eval&#x00A0;::xorb::manual&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38168r6"></a></span>&#x00A0;&#x00A0;namespace&#x00A0;import&#x00A0;::xorb::*&#x00A0;<br /><span class="label"><a 
 id="x1-38169r7"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38170r8"></a></span>&#x00A0;&#x00A0;#&#x00A0;1-)&#x00A0;provide&#x00A0;an&#x00A0;interface&#x00A0;description:&#x00A0;&#8217;service&#x00A0;contract&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38171r9"></a></span>&#x00A0;&#x00A0;ServiceContract&#x00A0;EchoService&#x00A0;-defines&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38172r10"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;Abstract&#x00A0;echoFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38173r11"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-arguments&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38174r12"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inputDate:xsFloat&#x00A0;<br /><span class="label"><a 
 id="x1-38175r13"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;-returns&#x00A0;returnValue:xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38176r14"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-description&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38177r15"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Here,&#x00A0;we&#x00A0;outline&#x00A0;an&#x00A0;abstract&#x00A0;call&#x00A0;"echoFloat"&#x00A0;<br /><span class="label"><a 
 id="x1-38178r16"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;and&#x00A0;its&#x00A0;basic&#x00A0;characteristics&#x00A0;to&#x00A0;be&#x00A0;realised&#x00A0;<br /><span class="label"><a 
 id="x1-38179r17"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;both&#x00A0;by&#x00A0;servant&#x00A0;code&#x00A0;and&#x00A0;client&#x00A0;proxies.&#x00A0;<br /><span class="label"><a 
 id="x1-38180r18"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38181r19"></a></span>&#x00A0;&#x00A0;}&#x00A0;-ad_doc&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38182r20"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;This&#x00A0;contract&#x00A0;describes&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;<br /><span class="label"><a 
 id="x1-38183r21"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;EchoService&#x00A0;example&#x00A0;service&#x00A0;as&#x00A0;introduced&#x00A0;by&#x00A0;<br /><span class="label"><a 
 id="x1-38184r22"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;xorb&#8217;s&#x00A0;manual.&#x00A0;<br /><span class="label"><a 
 id="x1-38185r23"></a></span>&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38186r24"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38187r25"></a></span>&#x00A0;&#x00A0;#&#x00A0;1a-)&#x00A0;deploy&#x00A0;your&#x00A0;interface&#x00A0;description&#x00A0;<br /><span class="label"><a 
 id="x1-38188r26"></a></span>&#x00A0;&#x00A0;EchoService&#x00A0;deploy&#x00A0;<br /><span class="label"><a 
 id="x1-38189r27"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38190r28"></a></span>&#x00A0;&#x00A0;#&#x00A0;2-)&#x00A0;Provide&#x00A0;&#8217;servant&#8217;&#x00A0;code&#x00A0;and&#x00A0;register&#x00A0;it&#x00A0;with&#x00A0;the&#x00A0;invoker:&#x00A0;<br /><span class="label"><a 
 id="x1-38191r29"></a></span>&#x00A0;&#x00A0;#&#x00A0;&#8217;service&#x00A0;implementation&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38192r30"></a></span>&#x00A0;&#x00A0;ServiceImplementation&#x00A0;EchoServiceImpl&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38193r31"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-implements&#x00A0;EchoService&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38194r32"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-using&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38195r33"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Method&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38196r34"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:required&#x00A0;<br /><span class="label"><a 
 id="x1-38197r35"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{Echoes&#x00A0;an&#x00A0;incoming&#x00A0;float}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38198r36"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;$inputFloat&#x00A0;<br /><span class="label"><a 
 id="x1-38199r37"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38200r38"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38201r39"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38202r40"></a></span>&#x00A0;&#x00A0;#&#x00A0;3a-)&#x00A0;deploy&#x00A0;your&#x00A0;service&#x00A0;implementation&#x00A0;<br /><span class="label"><a 
 id="x1-38203r41"></a></span>&#x00A0;&#x00A0;EchoServiceImpl&#x00A0;deploy&#x00A0;<br /><span class="label"><a 
 id="x1-38204r42"></a></span>}

  </div>
<!--l. 667--><div class="lstinputlisting">
<a 
 id="x1-38205r6"></a>
<a 
 id="x1-38206"></a>
<br />
<table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Listing&#x00A0;6:
</td><td  
class="content">Per-method
precedence</td></tr></table><!--tex4ht:label?: x1-38205r8 -->&#x00A0;<br /><span class="label"><a 
 id="x1-38207r1"></a></span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38208r2"></a></span>namespace&#x00A0;import&#x00A0;::xosoap::client::*&#x00A0;<br /><span class="label"><a 
 id="x1-38209r3"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38210r4"></a></span>#&#x00A0;1-)&#x00A0;we&#x00A0;define&#x00A0;a&#x00A0;distinct&#x00A0;glue&#x00A0;object&#x00A0;<br /><span class="label"><a 
 id="x1-38211r5"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38212r6"></a></span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38213r7"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://dietrich.ganx4.com/nusoap/testbed/round2_base_server.php"\&#x00A0;<br /><span class="label"><a 
 id="x1-38214r8"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]&#x00A0;<br /><span class="label"><a 
 id="x1-38215r9"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38216r10"></a></span>#&#x00A0;2-)&#x00A0;create&#x00A0;a&#x00A0;combined&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;+&#x00A0;&#8217;glue&#8217;&#x00A0;object&#x00A0;<br /><span class="label"><a 
 id="x1-38217r11"></a></span>SoapObject&#x00A0;EchoClient\&#x00A0;<br /><span class="label"><a 
 id="x1-38218r12"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"\&#x00A0;<br /><span class="label"><a 
 id="x1-38219r13"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38220r14"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38221r15"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded&#x00A0;<br /><span class="label"><a 
 id="x1-38222r16"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38223r17"></a></span>#&#x00A0;3-)&#x00A0;create&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38224r18"></a></span>EchoClient&#x00A0;ad_proc&#x00A0;-glueobject&#x00A0;$glueObject&#x00A0;-returns&#x00A0;xsFloat\&#x00A0;<br /><span class="label"><a 
 id="x1-38225r19"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38226r20"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-inputFloat:xsFloat&#x00A0;<br /><span class="label"><a 
 id="x1-38227r21"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38228r22"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38229r23"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-38230r24"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{}&#x00A0;<br /><span class="label"><a 
 id="x1-38231r25"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38232r26"></a></span>#&#x00A0;4-)&#x00A0;issue&#x00A0;the&#x00A0;call&#x00A0;<br /><span class="label"><a 
 id="x1-38233r27"></a></span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.61805]

  </div>
<!--l. 668--><div class="lstinputlisting">
<a 
 id="x1-38239r7"></a>
<a 
 id="x1-38240"></a>
<br />
<table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Listing&#x00A0;7:
</td><td  
class="content">Shared
scope</td></tr></table><!--tex4ht:label?: x1-38239r8 -->&#x00A0;<br /><span class="label"><a 
 id="x1-38241r1"></a></span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38242r2"></a></span>namespace&#x00A0;import&#x00A0;::xosoap::client::*&#x00A0;<br /><span class="label"><a 
 id="x1-38243r3"></a></span>namespace&#x00A0;import&#x00A0;::xorb::stub::*&#x00A0;<br /><span class="label"><a 
 id="x1-38244r4"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38245r5"></a></span>#&#x00A0;1-)&#x00A0;create&#x00A0;and&#x00A0;populate&#x00A0;a&#x00A0;&#8217;glue&#8217;&#x00A0;object&#x00A0;<br /><span class="label"><a 
 id="x1-38246r6"></a></span>set&#x00A0;glueObject&#x00A0;[SoapGlueObject&#x00A0;new&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38247r7"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"\&#x00A0;<br /><span class="label"><a 
 id="x1-38248r8"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-action&#x00A0;"http://websrv.cs.fsu.edu/~engelen/interop2.cgi"&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38249r9"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-callNamespace&#x00A0;http://soapinterop.org/&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38250r10"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded]&#x00A0;<br /><span class="label"><a 
 id="x1-38251r11"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38252r12"></a></span>#&#x00A0;2-)&#x00A0;create&#x00A0;a&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38253r13"></a></span>ProxyObject&#x00A0;EchoClient&#x00A0;-glueobject&#x00A0;$glueObject&#x00A0;<br /><span class="label"><a 
 id="x1-38254r14"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38255r15"></a></span>#&#x00A0;3-)&#x00A0;create&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;&#8217;client&#x00A0;proxy&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38256r16"></a></span>EchoClient&#x00A0;ad_proc&#x00A0;-returns&#x00A0;xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38257r17"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;echoFloat&#x00A0;{-inputFloat:xsFloat}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38258r18"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;By&#x00A0;calling&#x00A0;this&#x00A0;proc,&#x00A0;a&#x00A0;remote&#x00A0;call&#x00A0;is&#x00A0;issued&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38259r19"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;against&#x00A0;the&#x00A0;previously&#x00A0;defined&#x00A0;endpoint&#x00A0;<br /><span class="label"><a 
 id="x1-38260r20"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;{}&#x00A0;<br /><span class="label"><a 
 id="x1-38261r21"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38262r22"></a></span>#&#x00A0;4-)&#x00A0;issue&#x00A0;the&#x00A0;call&#x00A0;<br /><span class="label"><a 
 id="x1-38263r23"></a></span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.6180339887]\n&#x00A0;<br /><span class="label"><a 
 id="x1-38264r24"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38265r25"></a></span>#&#x00A0;5-)&#x00A0;specify&#x00A0;a&#x00A0;decorator&#x00A0;(a&#x00A0;mixin&#x00A0;class&#x00A0;in&#x00A0;XOTcl&#x00A0;terms)&#x00A0;<br /><span class="label"><a 
 id="x1-38266r26"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38267r27"></a></span>::xotcl::Class&#x00A0;ProxyDecorator&#x00A0;<br /><span class="label"><a 
 id="x1-38268r28"></a></span>SoapGlueObject&#x00A0;ProxyDecorator::GlueObject&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38269r29"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-endpoint&#x00A0;"http://dietrich.ganx4.com/nusoap/testbed/round2_base_server.php"\&#x00A0;<br /><span class="label"><a 
 id="x1-38270r30"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;-messageStyle&#x00A0;::xosoap::RpcEncoded&#x00A0;<br /><span class="label"><a 
 id="x1-38271r31"></a></span>ProxyDecorator&#x00A0;instproc&#x00A0;glueobject&#x00A0;args&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38272r32"></a></span>&#x00A0;&#x00A0;return&#x00A0;[self&#x00A0;class]::GlueObject&#x00A0;<br /><span class="label"><a 
 id="x1-38273r33"></a></span>}&#x00A0;<br /><span class="label"><a 
 id="x1-38274r34"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38275r35"></a></span>#&#x00A0;6-)&#x00A0;decorate&#x00A0;the&#x00A0;client&#x00A0;proxy&#x00A0;<br /><span class="label"><a 
 id="x1-38276r36"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38277r37"></a></span>EchoClient&#x00A0;mixin&#x00A0;add&#x00A0;::template::ProxyDecorator&#x00A0;<br /><span class="label"><a 
 id="x1-38278r38"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38279r39"></a></span>#&#x00A0;7-)&#x00A0;re-issue&#x00A0;the&#x00A0;call&#x00A0;<br /><span class="label"><a 
 id="x1-38280r40"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38281r41"></a></span>ns_write&#x00A0;[EchoClient&#x00A0;echoFloat&#x00A0;-inputFloat&#x00A0;1.6180339887]

  </div>
<!--l. 669--><div class="lstinputlisting">
<a 
 id="x1-38282"></a>
&#x00A0;<br /><span class="label"><a 
 id="x1-38283r1"></a></span>#&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;/&#x00A0;<br /><span class="label"><a 
 id="x1-38284r2"></a></span>#&#x00A0;$Id:&#x00A0;example-10-soap-provider-init.tcl&#x00A0;73&#x00A0;2007-08-26&#x00A0;14:01:55Z&#x00A0;ssoberni&#x00A0;$&#x00A0;<br /><span class="label"><a 
 id="x1-38285r3"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38286r4"></a></span>#&#x00A0;-)&#x00A0;prerequisites&#x00A0;<br /><span class="label"><a 
 id="x1-38287r5"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38288r6"></a></span>namespace&#x00A0;eval&#x00A0;:some_name_space&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38289r7"></a></span>&#x00A0;&#x00A0;proc&#x00A0;servantProc&#x00A0;{inputFloat}&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38290r8"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;$inputFloat&#x00A0;<br /><span class="label"><a 
 id="x1-38291r9"></a></span>&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38292r10"></a></span>}&#x00A0;<br /><span class="label"><a 
 id="x1-38293r11"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38294r12"></a></span>namespace&#x00A0;eval&#x00A0;::xorb::manual&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38295r13"></a></span>&#x00A0;&#x00A0;namespace&#x00A0;import&#x00A0;::xorb::*&#x00A0;<br /><span class="label"><a 
 id="x1-38296r14"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38297r15"></a></span>&#x00A0;&#x00A0;#&#x00A0;1-)&#x00A0;provide&#x00A0;an&#x00A0;interface&#x00A0;description:&#x00A0;&#8217;service&#x00A0;contract&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38298r16"></a></span>&#x00A0;&#x00A0;ServiceContract&#x00A0;EchoService&#x00A0;-defines&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38299r17"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;Abstract&#x00A0;echoFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38300r18"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-arguments&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38301r19"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inputDate:xsFloat&#x00A0;<br /><span class="label"><a 
 id="x1-38302r20"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;-returns&#x00A0;returnValue:xsFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38303r21"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-description&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38304r22"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Here,&#x00A0;we&#x00A0;outline&#x00A0;an&#x00A0;abstract&#x00A0;call&#x00A0;"echoFloat"&#x00A0;<br /><span class="label"><a 
 id="x1-38305r23"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;and&#x00A0;its&#x00A0;basic&#x00A0;characteristics&#x00A0;to&#x00A0;be&#x00A0;realised&#x00A0;<br /><span class="label"><a 
 id="x1-38306r24"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;both&#x00A0;by&#x00A0;servant&#x00A0;code&#x00A0;and&#x00A0;client&#x00A0;proxies.&#x00A0;<br /><span class="label"><a 
 id="x1-38307r25"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38308r26"></a></span>&#x00A0;&#x00A0;}&#x00A0;-ad_doc&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38309r27"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;This&#x00A0;contract&#x00A0;describes&#x00A0;the&#x00A0;interface&#x00A0;of&#x00A0;the&#x00A0;<br /><span class="label"><a 
 id="x1-38310r28"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;EchoService&#x00A0;example&#x00A0;service&#x00A0;as&#x00A0;introduced&#x00A0;by&#x00A0;<br /><span class="label"><a 
 id="x1-38311r29"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;xorb&#8217;s&#x00A0;manual.&#x00A0;<br /><span class="label"><a 
 id="x1-38312r30"></a></span>&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38313r31"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38314r32"></a></span>&#x00A0;&#x00A0;#&#x00A0;1a-)&#x00A0;deploy&#x00A0;your&#x00A0;interface&#x00A0;description&#x00A0;<br /><span class="label"><a 
 id="x1-38315r33"></a></span>&#x00A0;&#x00A0;EchoService&#x00A0;deploy&#x00A0;<br /><span class="label"><a 
 id="x1-38316r34"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38317r35"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38318r36"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38319r37"></a></span>&#x00A0;&#x00A0;#&#x00A0;2-)&#x00A0;Provide&#x00A0;&#8217;servant&#8217;&#x00A0;code&#x00A0;and&#x00A0;register&#x00A0;it&#x00A0;with&#x00A0;the&#x00A0;invoker:&#x00A0;<br /><span class="label"><a 
 id="x1-38320r38"></a></span>&#x00A0;&#x00A0;#&#x00A0;&#8217;service&#x00A0;implementation&#8217;&#x00A0;<br /><span class="label"><a 
 id="x1-38321r39"></a></span>&#x00A0;&#x00A0;ServiceImplementation&#x00A0;EchoServiceImpl&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38322r40"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-implements&#x00A0;EchoService&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38323r41"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-using&#x00A0;{&#x00A0;<br /><span class="label"><a 
 id="x1-38324r42"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Delegate&#x00A0;echoFloat&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38325r43"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-per-object&#x00A0;true&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38326r44"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-private_p&#x00A0;true&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38327r45"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-for&#x00A0;::some_name_space::servantProc&#x00A0;\&#x00A0;<br /><span class="label"><a 
 id="x1-38328r46"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;{Echoes&#x00A0;an&#x00A0;incoming&#x00A0;float}&#x00A0;<br /><span class="label"><a 
 id="x1-38329r47"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-38330r48"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-38331r49"></a></span>&#x00A0;&#x00A0;#&#x00A0;3a-)&#x00A0;deploy&#x00A0;your&#x00A0;service&#x00A0;implementation&#x00A0;<br /><span class="label"><a 
 id="x1-38332r50"></a></span>&#x00A0;&#x00A0;EchoServiceImpl&#x00A0;deploy&#x00A0;<br /><span class="label"><a 
 id="x1-38333r51"></a></span>}

  </div>
<!--l. 671--><p class="indent" >
                                                                       

                                                                       
</p>
  <h3 class="likesectionHead"><a 
href="#x1-390008.1" id="x1-390008.1">References</a></h3>
<!--l. 1--><p class="noindent" >
   </p><div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xzsi:2007"></a>[1] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span> Zolera SOAP Infrastructure (ZSI). URL <a href="http://pywebsvcs.sourceforge.net/"><span class="obeylines-h">http://pywebsvcs.sourceforge.net/</span></a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xw3c:2004"></a>[2] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span> Paul&#x00A0;V. Biron and Ashok Malhotra.  XML Schema Part 2: Datatypes Second Edition.
   W3C Recommendation, W3C, 2004. URL <a href="http://www.w3.org/TR/xmlschema-2/"><span class="obeylines-h">http://www.w3.org/TR/xmlschema-2/</span></a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xw3c:2000"></a>[3] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span> Don Box, David Ehnebuske, Gopal Kakivaya, Andrew Layman, Noah Mendelsohn,
   Henrik&#x00A0;Frystyk  Nielsen,  Satish  Thattle,  and  Dave  Winer.      Simpe  Object  Access
   Protocol (SOAP) 1.1.   W3C Note, W3C, 2000.   URL <a href="http://www.w3.org/TR/2000/NOTE-SOAP-20000508/"><span class="obeylines-h">http://www.w3.org/TR/2000/
   NOTE-SOAP-20000508/</span></a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xgof:1994"></a>[4] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span> Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides.  <span class="emph"><span class="underline">Design Patterns
   &#8211; Elements of Reusable Object-Oriented Software</span></span>.     Addison  Wesley  Professional
   Computing Series. Addison Wesley, October 1994.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xkelly:2003"></a>[5] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>                    Allan                    Kelly.                                                         Encapsulated
   Execution Context.  In <span class="emph"><span class="underline">Proceedings of EuroPLoP 2003, Workshop D</span></span>, 2003.  URL <a href="http://hillside.net/europlop/europlop2003/papers/WorkshopD/D2_KellyA.rtf"><span class="obeylines-h">http:
   //hillside.net/europlop/europlop2003/papers/WorkshopD/D2_KellyA.rtf</span></a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xmaetzel:1996"></a>[6] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span> Kai-Uwe Mtzel and Walter Bischofberger.  The Any Framework.  In <span class="emph"><span class="underline">Proceedings of
   the 2nd USENIX Conference on Object-Oriented Technologies and Systems</span></span>, Toronto,
   Canada, June 1996. 179 &#8211; 190.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xsommerlad:1998"></a>[7] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>  Peter  Sommerlad  and  Marcel  Redi.   Do-it-yourself  Reflection.   Presented  to  the
   Third  European  Conference  on  Pattern  Languages  of  Programming  and  Computing
   (EuroPLoP&#8217;98),  Bad  Irsee,  Germany,  1998.    URL  <a href="http://hillside.net/europe/EuroPatterns/files/DIY_Reflection.pdf"><span class="obeylines-h">http://hillside.net/europe/
   EuroPatterns/files/DIY_Reflection.pdf</span></a>.
   </p>
                                                                       

                                                                       
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xzdun:2005"></a>[8] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>  Markus  Vlter,  Michael  Kircher,  and  Uwe  Zdun.   <span class="emph"><span class="underline">Remoting  Patterns:  Foundations
   of Enterprise, Internet and Realtime Distributed Object Middleware</span></span>.   Software  Design
   Patterns. John Wiley &amp; Sons Ltd., Chichester, England, 2005.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="Xzdun:2005b"></a>[9] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>  Uwe  Zdun.    Patterns  of  argument  passing.    In  <span class="emph"><span class="underline">Proceedings  of  the  4th  Nordic
   Conference of Pattern Language of Programs (VikingPLoP2005)</span></span>,  pages  1  &#8211;  25,
   Otaniemi,  Finland,  2005.   URL  <a href="http://www.infosys.tuwien.ac.at/Staff/zdun/publications/arguments.pdf"><span class="obeylines-h">http://www.infosys.tuwien.ac.at/Staff/zdun/
   publications/arguments.pdf</span></a>.
</p>
   </div>
<!--l. 673--><p class="indent" >
                                                                       

                                                                       
  </div></body></html> 

                                                                       


